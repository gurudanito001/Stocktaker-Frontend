{"version":3,"sources":["images/user.svg","images/correct.svg","images/menu-white.svg","images/spareparts.svg","images/truck.svg","images/history.svg","images/menu.svg","images/notifications-orange.svg","config.js","components/loginOrRegister.js","components/Sidebar/logo.js","components/Sidebar/userDetails.js","components/Sidebar/navigation.js","components/Sidebar/sidebar.js","components/Users/allUsers.js","components/topNavbar.js","components/Users/userAccess.js","components/SpareParts/purchaseItem.js","components/SpareParts/useItems.js","components/SpareParts/spareParts.js","components/SpareParts/newSparePart.js","components/SpareParts/editSparePart.js","components/SpareParts/sparePartDetails.js","components/Vehicles/newVehicle.js","components/Vehicles/editVehicle.js","components/Vehicles/vehicleInfo.js","components/Vehicles/allVehicles.js","components/pendingAuthorization/purchaseRequest.js","components/pendingAuthorization/usageRequests.js","components/pendingAuthorization/authorizeRequests.js","components/histories/generalHistory.js","components/histories/itemHistory.js","components/App.js","index.js"],"names":["module","exports","API_URL","Login","props","handleChange","event","setState","target","id","value","handleSubmit","preventDefault","doesPasswordMatch","state","password","document","getElementById","textContent","setLoggedIn","validateEmail","email","navigator","onLine","disabled","axios","get","then","res","data","status","setUserDetails","localStorage","setItem","_id","clear","passwordField","className","htmlFor","type","required","onChange","greenTick","src","correct","alt","height","nextButton","onClick","submitButton","this","React","Component","Register","disableSubmitBtn","userInfo","console","log","classList","remove","loadAllUsers","clearState","catch","error","fullname","gender","position","viewUsers","grantUserPrivileges","viewInventoryRecords","addNewSparePart","recordPurchase","requestUsage","authorizePurchase","authorizeUsage","viewItemHistory","viewAllVehicles","addNewVehicle","editVehicle","viewHistory","onSubmit","placeholder","minLength","LoginOrRegister","styles","body","backgroundColor","card","width","navTabs","boxShadow","style","role","data-toggle","href","aria-controls","aria-selected","aria-labelledby","Logo","borderBottom","color","menu","toggleSidebar","UserDetails","display","flexDirection","alignItems","justifyContent","user","userName","Navigation","closeOpenModal","openModal","click","to","spareparts","truck","history","Sidebar","reportWindowSize","windowWidth","window","innerWidth","changeSidebarStyle","zIndex","top","left","currentScreen","setScreenDetails","addEventListener","User","maxWidth","grantPrivileges","AllUsers","renderAllUsers","userDetails","allUsers","map","key","navbar","bellBadge","dropdownMenu","minWidth","maxHeight","overflowY","TopNavbar","listOfUnAuthorizedPurchases","unAuthorizedPurchases","itemName","quantity","date","substring","listOfUnAuthorizedUsage","unAuthorizedUsage","notificationNumber","length","aria-haspopup","aria-expanded","logout","bell","UserAccess","componentDidMount","location","substr","toString","userAccessDetails","componentWillReceiveProps","setUserPrivilege","post","updateUserDetails","setMessage","setTimeout","clearMessage","defaultValue","checked","PurchaseItem","calcAverageUnitCost","prevData","newData","lastCost","lastQty","newCost","newQty","parseInt","averageUnitCost","cost","Math","ceil","requiredFieldsAreFilled","sparePartDetails","sparePartDetailsByItemname","purchaseHistory","currentValue","loadAllSpareParts","loadUnAuthorizedPurchases","unfilledRequiredInputs","inputId","add","result","push","supplier","invoiceNumber","authorized","allItemNames","category","data-dismiss","aria-label","closePurchaseModal","aria-hidden","itemNamesOptions","UseItems","includes","allItems","items","item","itemAndQtyAreSpecified","iterations","arrayOfUsage","usageObj","itemDetails","newItemDetails","loadUnAuthorizedUsage","vehicleFor","authorizedBy","purpose","resultString","vehiclesOptions","allVehicles","vehicle","listOfItems","addToListOfItems","closeButton","pop","itemName1","quantity1","returnedDatabaseCalls","closeUsageModal","rows","TableRow","scope","SN","SpareParts","sortTableItems","allSpareParts","sortedItems","sort","sortedTableItems","sortedItem","tableItem","allTableRows","sparepart","indexOf","purchaseModal","showPurchaseModal","openPurchaseModal","setActiveModal","resetActiveModal","usageModal","showUsageModal","updateSparePartDetails","openUsageModal","newSparePartBtn","purchaseModalBtn","data-target","usageModalBtn","tabIndex","data-backdrop","data-keyboard","NewSparePart","categoryOptions","newSparePart","doesNewSparePartExist","manufacturer","partNumber","model","serialNumber","reorderlevel","description","allCategories","EditSparePart","doesSparePartExist","toLowerCase","trim","closeModal","SparePartDetails","thisMonthPurchaseHistory","thisMonthUsageHistory","returnValue","modalOpen","modal","numberPurchased","numberUsed","createdAt","Date","getMonth","getFullYear","NewVehicle","loadAllVehicles","closeNewVehicleModal","plateNumber","EditVehicle","closeEditVehicleModal","VehicleInfo","openEditVehicleModal","setCurrentlyEditedVehicle","AllVehicles","vehicleData","currentlyEditedVehicle","renderAllVehicles","newVehicleModal","showNewVehicleModal","newVehicleBtn","openNewVehicleModal","editVehicleModal","showEditVehicleModal","PurchaseRequest","alert","discardRequest","delete","edit","readOnly","border","editFields","approvePurchase","editPurchase","UsageRequest","approveUsage","AuthorizeRequests","purchaseRequests","req","usageRequests","GeneralHistory","componentWillMount","usageHistory","textColor","qty","renderUsageHistory","renderPurchaseHistory","ItemHistory","name","match","params","App","text","message","warningMessage","bottom","successMessage","dangerMessage","loadAllResources","setloggedInFromLocalStorage","getItem","loggedIn","userdata","undefined","checkUserId","users","spareParts","vehicles","toggle","itemname","arrOfCategories","Set","exact","path","component","ReactDOM","render","StrictMode"],"mappings":"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","file":"static/js/main.1f9e5971.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/user.15eeae14.svg\";","module.exports = __webpack_public_path__ + \"static/media/correct.155dd59e.svg\";","module.exports = __webpack_public_path__ + \"static/media/menu-white.6651dd8a.svg\";","module.exports = __webpack_public_path__ + \"static/media/spareparts.9e4825ca.svg\";","module.exports = __webpack_public_path__ + \"static/media/truck.478ab060.svg\";","module.exports = __webpack_public_path__ + \"static/media/history.1f818a6e.svg\";","module.exports = __webpack_public_path__ + \"static/media/menu.6c976902.svg\";","module.exports = __webpack_public_path__ + \"static/media/notifications-orange.d19d65a5.svg\";","//export API_URL = \"https://boiling-scrubland-72876.herokuapp.com/\"\r\n\r\nexport const API_URL = \"https://boiling-scrubland-72876.herokuapp.com\";\r\n\r\n","import React from 'react';\r\nimport axios from 'axios';\r\nimport correct from '../images/correct.svg'\r\nimport { API_URL } from '../config';\r\n\r\n\r\n\r\nclass Login extends React.Component{\r\n    constructor(props){\r\n        super(props)\r\n        this.state = {\r\n            status: \"\",\r\n            email: '',\r\n            password: ''\r\n        }\r\n    }\r\n\r\n    handleChange = (event)=> {\r\n        this.setState({ [event.target.id]: event.target.value });\r\n    }\r\n    handleSubmit= (event)=>{\r\n        event.preventDefault()\r\n        if(this.props.doesPasswordMatch(this.state.password)){\r\n            document.getElementById('emailErrorMessage').textContent = \"\"\r\n            this.props.setLoggedIn()\r\n        }else{\r\n            document.getElementById('emailErrorMessage').textContent = \"Incorrect Password\"\r\n        }\r\n    }\r\n\r\n    validateEmail = (event)=> {\r\n        event.preventDefault()\r\n        if(this.state.email !== \"\" && navigator.onLine){\r\n            document.getElementById('next').disabled = true\r\n            axios.get(`${API_URL}/api/user/findEmail/${this.state.email}`)\r\n            //axios.get('http://localhost:5000/api/user/findEmail/' + this.state.email )\r\n            .then((res) => {\r\n                if(res.data === null && navigator.onLine){\r\n                    document.getElementById('emailErrorMessage').textContent = \"Invalid Email\"\r\n                    document.getElementById('next').disabled = false\r\n                }\r\n                if(res.status === 200 && res.data !== null){\r\n                    this.setState({status: \"OK\"})\r\n                    this.props.setUserDetails(res.data);\r\n                    localStorage.setItem(\"userId\", res.data._id);\r\n                    document.getElementById('emailErrorMessage').textContent = \"\"\r\n                }\r\n            })\r\n        }else{\r\n            if(this.state.email === \"\"){\r\n                document.getElementById('emailErrorMessage').textContent = \"Fill Email Address\"\r\n            }else if(navigator.onLine === false){\r\n                document.getElementById('emailErrorMessage').textContent = \"You are Offline\"\r\n            }\r\n        }\r\n        \r\n        localStorage.clear()\r\n        \r\n    }\r\n    passwordField = ()=>{\r\n        if(this.state.status === \"OK\"){\r\n            return(\r\n                <div className=\"form-group\">\r\n                    <label htmlFor=\"password\">Password</label>\r\n                    <input type=\"password\" className=\"form-control\" id=\"password\" required onChange={this.handleChange}/>\r\n                </div>\r\n            )\r\n        }\r\n    }\r\n    greenTick = ()=>{\r\n        if(this.state.status === \"OK\"){\r\n            return(\r\n                <img src={correct} alt=\"green tick\" height=\"15\" className=\"ml-2\"/>\r\n            )\r\n        }\r\n    }\r\n    nextButton = ()=>{\r\n        if(this.state.status === \"\"){\r\n            return(\r\n                <button className=\"btn btn-info\" id=\"next\" onClick={this.validateEmail}>Next</button>\r\n            )\r\n        }\r\n    }\r\n    submitButton = ()=>{\r\n        if(this.state.status === \"OK\"){\r\n            return(\r\n                <button type=\"submit\" className=\"btn btn-success\" onClick={this.handleSubmit}>Submit</button>\r\n            )\r\n        }\r\n    }\r\n\r\n    render(){\r\n        return(\r\n            <form>\r\n                <div className=\"form-group\">\r\n                    <label htmlFor=\"email\">Email address  {this.greenTick()}</label>\r\n                    <input type=\"email\" required className=\"form-control\" id=\"email\" onChange={this.handleChange} value={this.state.email}/>\r\n                </div>\r\n                {this.passwordField()}\r\n                <label className=\"text-danger d-block\" id=\"emailErrorMessage\"></label>\r\n                {this.submitButton()}\r\n                {this.nextButton()}\r\n            </form>\r\n            \r\n\r\n        )\r\n    }\r\n}\r\n\r\n\r\n\r\nclass Register extends React.Component{\r\n\r\n    constructor(props){\r\n        super(props)\r\n        this.state = {\r\n            fullname: '',\r\n            gender: '',\r\n            email: '',\r\n            password: '',\r\n            position: '',\r\n            viewUsers: false,\r\n            grantUserPrivileges: false,\r\n            viewInventoryRecords: false,\r\n            addNewSparePart: false,\r\n            recordPurchase: false,\r\n            requestUsage: false,\r\n            authorizePurchase: false,\r\n            authorizeUsage: false,\r\n            viewItemHistory: false,\r\n            viewAllVehicles: false,\r\n            addNewVehicle: false,\r\n            editVehicle: false,\r\n            viewHistory: false,\r\n            disableSubmitBtn: false\r\n\r\n        }\r\n    }\r\n\r\n    handleChange = (event) => {\r\n        this.setState({ [event.target.id]: event.target.value });\r\n    }\r\n    handleSubmit = (event) => {\r\n        event.preventDefault();\r\n        this.setState({disableSubmitBtn: true})\r\n        let userInfo = this.state\r\n        axios.get(`${API_URL}/api/user/add/`, userInfo)\r\n        //axios.post('http://localhost:5000/api/user/add', userInfo)\r\n            .then((res) => {\r\n                console.log(res.data)\r\n                if(res.status === 200){\r\n                    document.getElementById('registerGreenTick').classList.remove('d-none')\r\n                    document.getElementById('registerErrorMessage').textContent = \"\"\r\n                    this.props.loadAllUsers()\r\n                    this.clearState()\r\n                    this.setState({disableSubmitBtn: false})\r\n                }\r\n            })\r\n            .catch(error =>{\r\n                document.getElementById('registerErrorMessage').textContent = \"Email Already Exists\"\r\n                this.setState({disableSubmitBtn: false})\r\n            })\r\n    }\r\n    clearState = ()=>{\r\n        this.setState({fullname: ''})\r\n        this.setState({gender: ''})\r\n        this.setState({email: ''})\r\n        this.setState({password: ''})\r\n    }\r\n\r\n\r\n    render(){\r\n        return(\r\n            <form onSubmit={this.handleSubmit}>\r\n                <div className=\"form-group\">\r\n                    <label htmlFor=\"fullname\">Full Name</label>\r\n                    <input type=\"text\" required className=\"form-control\" id=\"fullname\"  placeholder=\"Firstname Lastname\" \r\n                    onChange={this.handleChange} value={this.state.fullname} minLength=\"5\"/>\r\n                </div>\r\n                <div className=\"form-group\">\r\n                    <label htmlFor=\"gender\">Gender</label>\r\n                    <select className=\"form-control\" id=\"gender\" onChange={this.handleChange} value={this.state.gender}>\r\n                        <option value=\"\">Select Gender</option>\r\n                        <option value=\"male\">male</option>\r\n                        <option value=\"female\">female</option>\r\n                    </select>\r\n                </div>\r\n                <div className=\"form-group\">\r\n                    <label htmlFor=\"email\">Email address</label>\r\n                    <input type=\"email\" required className=\"form-control\" id=\"email\" onChange={this.handleChange} value={this.state.email}/>\r\n                </div>\r\n                <div className=\"form-group\">\r\n                    <label htmlFor=\"password\">Password</label>\r\n                    <input type=\"text\" required className=\"form-control\" id=\"password\" minLength=\"5\" onChange={this.handleChange} value={this.state.password}/>\r\n                </div>\r\n                <label className=\"text-danger d-block\" id=\"registerErrorMessage\"></label>\r\n                <button type=\"submit\" className=\"btn btn-primary\" id=\"registerSubmitBtn\" disabled={this.state.disableSubmitBtn}>Submit</button> \r\n                <img src={correct} alt=\"green tick\" height=\"15\" id=\"registerGreenTick\" className=\"ml-2 d-none\"/>\r\n\r\n\r\n            </form>\r\n        )\r\n    }\r\n}\r\n\r\n\r\nexport default class LoginOrRegister extends React.Component{\r\n    \r\n\r\n    render(){\r\n        const styles = {\r\n            body:{\r\n                backgroundColor: '#3a3f51',\r\n                height: '100vh',\r\n            },\r\n            card: {\r\n                width: '380px'\r\n            },\r\n            navTabs: {\r\n                boxShadow: 'none'\r\n            }\r\n        }\r\n        return(\r\n            <section className=\"d-flex align-items-center justify-content-center\" style={styles.body}>\r\n                \r\n                <div style={styles.card}>\r\n                    <ul className=\"nav nav-pills mb-3\" id=\"pills-tab\" role=\"tablist\">\r\n                        <li className=\"nav-item w-50\">\r\n                            <a className=\"nav-link btn text-white active\" style={styles.navTabs} id=\"pills-home-tab\" data-toggle=\"pill\" href=\"#pills-home\" role=\"tab\" aria-controls=\"pills-home\" aria-selected=\"true\">Login</a>\r\n                        </li>\r\n                        <li className=\"nav-item w-50\">\r\n                            <a className=\"nav-link btn text-white\" style={styles.navTabs} id=\"pills-profile-tab\" data-toggle=\"pill\" href=\"#pills-profile\" role=\"tab\" aria-controls=\"pills-profile\" aria-selected=\"false\">Register</a>\r\n                        </li>\r\n                    </ul>\r\n                    <div className=\"tab-content card\" id=\"pills-tabContent\">\r\n                        <div className=\"tab-pane fade show active p-3\" id=\"pills-home\" role=\"tabpanel\" aria-labelledby=\"pills-home-tab\">\r\n                            <Login \r\n                            doesPasswordMatch={this.props.doesPasswordMatch}\r\n                            setUserDetails={this.props.setUserDetails}\r\n                            setLoggedIn={this.props.setLoggedIn}\r\n                            onSubmit={this.props.onSubmit}/>\r\n                        </div>\r\n\r\n                        <div className=\"tab-pane fade p-3\" id=\"pills-profile\" role=\"tabpanel\" aria-labelledby=\"pills-profile-tab\">\r\n                            <Register \r\n                            loadAllUsers={this.props.loadAllUsers}/>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </section>\r\n        )\r\n    }\r\n}","import React from 'react';\r\nimport menu from '../../images/menu-white.svg'\r\n\r\nexport default function Logo (props){\r\n    const styles = {\r\n        borderBottom: '1px solid white',\r\n        color: 'white',\r\n        boxShadow: '1px 7px 14px -7px rgba(0,0,0,0.7)'\r\n        \r\n    }\r\n\r\n    return(\r\n        <nav style={styles} className=\"navbar\">\r\n            <li className=\"d-flex align-items-center navbar-brand\">\r\n                <img src={menu} alt=\"menu button\" width=\"30\" className=\"p-2 d-xl-none mr-3\" onClick={props.toggleSidebar}/>\r\n                Company Name\r\n            </li>\r\n        </nav>\r\n    )\r\n}","import React from 'react';\r\nimport user from '../../images/user.svg'\r\n\r\nexport default function UserDetails (props){\r\n    const styles = {\r\n        display: 'flex',\r\n        flexDirection: 'column',\r\n        alignItems: 'center',\r\n        justifyContent: 'center',\r\n        height: '32vh',\r\n        color: 'white',\r\n    }\r\n\r\n    return(\r\n       <div style={styles}>\r\n           <img src={user} width=\"70\" alt=\"user avatar\"/>\r\n            <p className=\"font-weight-bold mb-0\">{props.userName}</p>\r\n            <p>{props.position}</p>\r\n       </div> \r\n    )\r\n}","import React from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport spareparts from '../../images/spareparts.svg';\r\nimport truck from '../../images/truck.svg';\r\nimport history from '../../images/history.svg';\r\nimport user from '../../images/user.svg'\r\n\r\n\r\n\r\n\r\nexport default function Navigation (props){\r\n    const closeOpenModal = ()=>{\r\n        if(props.openModal !== ''){\r\n            document.getElementById(props.openModal).click()\r\n        }\r\n    }\r\n    return(\r\n        <>\r\n            \r\n        <ul className=\"list-unstyled p-0 m-0\">\r\n            <li>\r\n                <Link to=\"/users\" style={{boxShadow:'none'}}\r\n                className=\"btn btn-outline-secondary btn-block d-flex align-items-center text-white p-3 border-0 m-0\" onClick={()=>{\r\n                    closeOpenModal()\r\n                }}>\r\n                    <img src={user} alt=\"user icon\" height=\"22\" className=\"mr-2\"/>Users\r\n                </Link>\r\n            </li>\r\n\r\n            <li>\r\n                <Link to=\"/\" style={{boxShadow:'none'}}\r\n                className=\"btn btn-outline-secondary btn-block d-flex align-items-center text-white p-3 border-0 m-0\" onClick={()=>{\r\n                    closeOpenModal()\r\n                }}>\r\n                    <img src={spareparts} alt=\"spareparts icon\" height=\"22\" className=\"mr-2\"/>Spare Parts\r\n                </Link>\r\n            </li>\r\n\r\n            <li>\r\n                <Link to=\"/vehicles\" style={{boxShadow:'none'}}\r\n                className=\"btn btn-outline-secondary btn-block d-flex align-items-center text-white p-3 border-0 m-0\" onClick={()=>{\r\n                    closeOpenModal()\r\n                }}>\r\n                    <img src={truck} alt=\"Truck icon\" height=\"22\" className=\"mr-2\"/>Vehicles\r\n                </Link>\r\n            </li>\r\n\r\n            <li>\r\n                <Link to=\"/history\" style={{boxShadow:'none'}}\r\n                className=\"btn btn-outline-secondary btn-block d-flex align-items-center text-white p-3 border-0 m-0\" onClick={()=>{\r\n                    closeOpenModal()\r\n                }}>\r\n                    <img src={history} alt=\"History icon\" height=\"22\" className=\"mr-2\"/>History\r\n                </Link>\r\n            </li>\r\n            \r\n        </ul>\r\n\r\n\r\n        </>\r\n    )\r\n}\r\n","import React from 'react';\r\nimport Logo from './logo'\r\nimport UserDetails from './userDetails'\r\nimport Navigation from './navigation'\r\n\r\nexport default class Sidebar extends React.Component{\r\n    constructor(props){\r\n        super(props)\r\n        this.state = {\r\n            windowWidth: window.innerWidth,\r\n        }\r\n    }\r\n\r\n    reportWindowSize = ()=>{\r\n        this.setState({windowWidth: window.innerWidth})\r\n        //console.log(this.state.windowWidth);\r\n    }\r\n\r\n    changeSidebarStyle= ()=>{\r\n        const stylesLg = {\r\n            height: '100vh',\r\n            width: '240px',\r\n            backgroundColor: '#3a3f51',\r\n            zIndex: '2000',\r\n            position: 'sticky',\r\n            top: '0px',\r\n            left: '0px',\r\n        }\r\n        const stylesSm = {\r\n            height: '100vh',\r\n            width: '240px',\r\n            backgroundColor: '#3a3f51',\r\n            zIndex: '2000',\r\n            position: 'fixed',\r\n            top: '0px',\r\n            left: '0px',\r\n        }\r\n        if(this.state.windowWidth > 1199 ){\r\n            return(\r\n                stylesLg\r\n            )\r\n        }else{\r\n            return(\r\n                stylesSm\r\n            )\r\n        }\r\n    }\r\n    \r\n    render(){\r\n        return(\r\n           <aside style={this.changeSidebarStyle()} id=\"sidebar\">\r\n               <Logo toggleSidebar = {this.props.toggleSidebar}/>\r\n               <UserDetails\r\n               userName={this.props.userName}\r\n               position={this.props.position}\r\n               />\r\n               <Navigation \r\n               openModal={this.props.openModal}\r\n               currentScreen={this.props.currentScreen}\r\n               setScreenDetails ={this.props.setScreenDetails} \r\n               toggleSidebar={this.props.toggleSidebar} \r\n               windowWidth={this.state.windowWidth}/>\r\n\r\n               {window.addEventListener('resize', this.reportWindowSize)}\r\n           </aside> \r\n        )\r\n    }\r\n    \r\n}","import React, { Fragment } from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport user from '../../images/user.svg';\r\n\r\nfunction User (props) {\r\n\r\n    let returnPosition = (position)=>{\r\n        if (position !== ''){\r\n            return position\r\n        } else{\r\n            return \"Not Specified\"\r\n        }\r\n    }\r\n\r\n    const grantPrivileges = () =>{\r\n        if(props.grantPrivileges){\r\n            return <Link to={\"/editUsers/\" + props.id} className=\"btn btn-link text-success float-left p-0\"> User Access </Link>\r\n        }\r\n    }\r\n    return(\r\n        <div className=\"card mb-3 mx-auto mx-md-0\" style={{maxWidth: \"540px\"}}>\r\n            <div className=\"row no-gutters\">\r\n                <div className=\"col-sm-4\">\r\n                    <div className=\"card-header h-100 bg-light text-center d-flex align-items-center justify-content-center py-4 border-0\">\r\n                        <img src={user} className=\"card-img\" alt=\"avatar\" style={{width:\"100px\"}} />\r\n                    </div>\r\n                </div>\r\n                <div className=\"col-sm-8\">\r\n                    <div className=\"card-body clearfix\">\r\n                        <div className=\"row mb-1\">\r\n                            <span className=\"col-sm-4 text-secondary\">Full Name</span>\r\n                            <span className=\"col-sm-8\">{props.fullname}</span>\r\n                        </div>\r\n                        <div className=\"row mb-1\">\r\n                            <span className=\"col-sm-4 text-secondary\">Gender</span>\r\n                            <span className=\"col-sm-8\">{props.gender}</span>\r\n                        </div>\r\n                        <div className=\"row mb-1\">\r\n                            <span className=\"col-sm-4 text-secondary\">Email</span>\r\n                            <span className=\"col-sm-8\">{props.email}</span>\r\n                        </div>\r\n                        <div className=\"row mb-1\">\r\n                            <span className=\"col-sm-4 text-secondary\">Position</span>\r\n                            <span className=\"col-sm-8\">\r\n                                {returnPosition(props.position)}\r\n                            </span>\r\n                        </div>\r\n                        {grantPrivileges()}\r\n                        \r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default class AllUsers extends React.Component{\r\n \r\n    renderAllUsers = ()=>{\r\n        if(this.props.userDetails.viewUsers){\r\n            return(\r\n                this.props.allUsers.map((user)=>{\r\n                    return(\r\n                        <Fragment key={user._id}>\r\n                            <User\r\n                            grantPrivileges={this.props.userDetails.grantUserPrivileges}\r\n                            id={user._id}\r\n                            fullname={user.fullname}\r\n                            gender={user.gender}\r\n                            email={user.email}\r\n                            position={user.position}\r\n                            />\r\n                        </Fragment>\r\n                    )\r\n                })\r\n            )\r\n        }else{\r\n            return <h5 className=\"text-danger\"> You need permission to view this page</h5>\r\n        }\r\n    }\r\n\r\n    render(){\r\n            return (\r\n                <div className=\"col px-4 pb-4\">\r\n                    {this.renderAllUsers()}\r\n                </div>\r\n                \r\n            )\r\n        \r\n    }\r\n}\r\n","import React, { Fragment } from 'react';\r\nimport menu from '../images/menu.svg';\r\nimport bell from '../images/notifications-orange.svg';\r\nimport { Link } from 'react-router-dom';\r\n\r\nconst styles = {\r\n    navbar: {\r\n        boxShadow: '1px 5px 14px -7px rgba(0,0,0,0.7)',\r\n        borderBottom: '1px solid white',\r\n    },\r\n    bellBadge:{\r\n        color: \"#B82601\"\r\n    },\r\n    dropdownMenu: {\r\n        minWidth: \"240px\",\r\n        maxHeight: \"500px\",\r\n        overflowY: \"scroll\"\r\n    }\r\n    \r\n}\r\nexport default class TopNavbar extends React.Component{\r\n    \r\n\r\n    listOfUnAuthorizedPurchases = () => {\r\n        if(this.props.userDetails.recordPurchase){\r\n            return(\r\n                this.props.unAuthorizedPurchases.map((data) =>{\r\n                    return(\r\n                        <Fragment key={data._id}>\r\n                        <li  className=\"dropdown-item text-left p-0\">\r\n                            <Link to=\"/authorization\" className=\"d-block text-decoration-none px-2 text-dark py-1\">{data.itemName} \r\n                            <span className=\"badge badge-light ml-2\" style={styles.bellBadge}>{data.quantity}</span> <br/>\r\n                            <small className=\"text-muted\">{data.date.substring(0, 10)}</small>\r\n                            </Link>\r\n                            <div className=\"dropdown-divider m-0\"></div>\r\n                        </li>\r\n                        </Fragment>\r\n                    )\r\n                })\r\n            )\r\n        }else{\r\n            return ('------------------')\r\n        }\r\n        \r\n    }\r\n\r\n    listOfUnAuthorizedUsage = () => {\r\n        if(this.props.userDetails.requestUsage){\r\n            return(\r\n            this.props.unAuthorizedUsage.map((data) =>{\r\n                return(\r\n                    <Fragment key={data._id}>\r\n                    <li  className=\"dropdown-item text-left p-0\">\r\n                        <Link to=\"/authorization\" className=\"d-block text-decoration-none px-2 text-dark py-1\">{data.itemName} \r\n                        <span className=\"badge badge-light ml-2\" style={styles.bellBadge}>{data.quantity}</span> <br/>\r\n                        <small className=\"text-muted\">{data.date.substring(0, 10)}</small>\r\n                        </Link>\r\n                    </li>\r\n                    </Fragment>\r\n                )\r\n            })\r\n            )\r\n        }else {\r\n            return ('------------------')\r\n        }\r\n    }\r\n\r\n    notificationNumber = () =>{\r\n        if(this.props.userDetails.recordPurchase && this.props.userDetails.requestUsage){\r\n            return (this.props.unAuthorizedPurchases.length + this.props.unAuthorizedUsage.length)\r\n        }else if(this.props.userDetails.recordPurchase){\r\n            return (this.props.unAuthorizedPurchases.length)\r\n        }else if(this.props.userDetails.requestUsage){\r\n            return (this.props.unAuthorizedUsage.length)\r\n        }else{\r\n            return 0\r\n        }\r\n    }\r\n    render(){\r\n        \r\n        return(\r\n            <nav style={styles.navbar} className=\"navbar navbar-light sticky-top bg-white mb-4\">\r\n                <li className=\"d-flex align-items-center navbar-brand\">\r\n                    <img src={menu} alt=\"menu button\" width=\"30\" className=\"p-2 mr-3\" onClick={this.props.toggleSidebar} />\r\n                    Inventory Application\r\n                </li>\r\n                <div className=\"dropdown ml-auto p-0\">\r\n                    <button className=\"btn bg-transparent dropdown-toggle\" type=\"button\" id=\"dropdownMenuButton\" data-toggle=\"dropdown\" aria-haspopup=\"true\" aria-expanded=\"false\">\r\n                    </button>\r\n                    <div className=\"dropdown-menu dropdown-menu-right text-center\" aria-labelledby=\"dropdownMenuButton\">\r\n                        <button className=\"btn btn-sm btn-danger\" onClick={this.props.logout}>\r\n                            Logout\r\n                        </button>\r\n                    </div>\r\n                </div>\r\n    \r\n                <div className=\"dropdown\">\r\n                    <button className=\"btn bg-transparent\" id=\"dropdownMenuButton\" data-toggle=\"dropdown\" aria-haspopup=\"true\" aria-expanded=\"false\">\r\n                        <img src={bell} alt=\"notification bell\" width=\"21\"/>\r\n                        <span className=\"badge badge-light\" style={styles.bellBadge}>\r\n                            {this.notificationNumber()}\r\n                            </span>\r\n                    </button>\r\n                    <ul className=\"dropdown-menu dropdown-menu-right py-2 list-unstyled\" aria-labelledby=\"dropdownMenuButton\" style={styles.dropdownMenu}>\r\n                        <h6 className=\"pl-2\">Purchases</h6>\r\n                        {this.listOfUnAuthorizedPurchases()}\r\n\r\n                        <h6 className=\"pl-2 mt-2\">Usage</h6>\r\n                        {this.listOfUnAuthorizedUsage()}\r\n                    </ul>\r\n                </div>\r\n            </nav>\r\n        )\r\n    }\r\n}","import React from 'react';\r\nimport axios from 'axios';\r\n\r\nexport default class UserAccess extends React.Component{\r\n    constructor(props){\r\n        super(props);\r\n        this.state = {\r\n            disableSubmitBtn: false,\r\n            userDetails: {}\r\n        }\r\n    }\r\n\r\n    componentDidMount = ()=>{\r\n        this.setUserDetails()\r\n    } \r\n\r\n    setUserDetails = ()=>{\r\n        let href = window.location.href;\r\n        let id = href.substr(href.length-24, href.length).toString();\r\n        let userDetails = this.props.userAccessDetails(id);\r\n        this.setState({userDetails: userDetails});\r\n    }\r\n\r\n    //componentWillReceiveProps has been labelled unsafe in recent versions of React \r\n    componentWillReceiveProps = ()=>{\r\n        this.setUserDetails()\r\n    }\r\n\r\n    handleChange = (event)=>{\r\n        let userDetails = this.state.userDetails;\r\n        userDetails.position = event.target.value;\r\n        this.setState({userDetails: userDetails});\r\n    }\r\n\r\n    setUserPrivilege = (id)=>{\r\n        let userDetails = this.state.userDetails;\r\n        userDetails[id] = !userDetails[id];\r\n        this.setState({userDetails:userDetails});\r\n    }\r\n\r\n    handleSubmit = (event) => {\r\n        event.preventDefault();\r\n        this.setState({disableSubmitBtn: true})\r\n        let userDetails = this.state.userDetails;\r\n\r\n        axios.post('http://localhost:5000/users/update/' + this.state.userDetails._id, userDetails)\r\n            .then((res) => {\r\n                if (res.status === 200) {\r\n                    this.props.updateUserDetails(userDetails)\r\n                    this.props.setMessage('success', 'User Details Updated')\r\n                    setTimeout(this.props.clearMessage, 5000)\r\n                    this.setState({disableSubmitBtn: false})\r\n                }\r\n            })\r\n    }\r\n\r\n    render(){\r\n        if(this.props.userDetails.grantUserPrivileges){\r\n            return (\r\n                <div className=\"col px-4 pb-5\">\r\n                    <form onSubmit={this.handleSubmit}>\r\n                        <div className=\"row mb-1\">\r\n                            <span className=\"col-sm-2 text-secondary\">Full Name</span>\r\n                            <span className=\"col-sm-8\">{this.state.userDetails.fullname}</span>\r\n                        </div>\r\n                        <div className=\"row mb-1\">\r\n                            <span className=\"col-sm-2 text-secondary\">Gender</span>\r\n                            <span className=\"col-sm-8\">{this.state.userDetails.gender}</span>\r\n                        </div>\r\n                        <div className=\"row mb-1\">\r\n                            <span className=\"col-sm-2 text-secondary\">Email</span>\r\n                            <span className=\"col-sm-8\">{this.state.userDetails.email}</span>\r\n                        </div>\r\n                        <div className=\"form-group row\">\r\n                            <label htmlFor=\"position\" className=\"col-sm-2 col-form-label  text-secondary\">Position</label>\r\n                            <div className=\"col-sm-8\">\r\n                                <input type=\"text\"  className=\"form-control form-control-sm\" id=\"position\" style={{maxWidth:\"300px\"}} defaultValue={this.state.userDetails.position} onChange={this.handleChange}/>\r\n                            </div>\r\n                        </div> \r\n\r\n    \r\n                        <div className=\"dropdown-divider w-50\"></div>\r\n    \r\n                        <h6 className=\"mt-3\">Users</h6>\r\n                        <div className=\"custom-control custom-switch mb-2\">\r\n                            <input type=\"checkbox\" checked={this.state.userDetails.viewUsers} className=\"custom-control-input\" id=\"viewUsers\" onChange={()=>{this.setUserPrivilege(\"viewUsers\")}}/>\r\n                            <label className=\"custom-control-label\" htmlFor=\"viewUsers\">View Users</label>\r\n                        </div>\r\n                        <div className=\"custom-control custom-switch mb-2\">\r\n                            <input type=\"checkbox\" checked={this.state.userDetails.grantUserPrivileges} value={this.state.userDetails.grantUserPrivileges}  className=\"custom-control-input\" id=\"grantUserPrivileges\" onChange={()=>{this.setUserPrivilege(\"grantUserPrivileges\")}}/>\r\n                            <label className=\"custom-control-label\" htmlFor=\"grantUserPrivileges\">Grant User Privileges</label>\r\n                        </div>\r\n    \r\n                        <h6 className=\"mt-3\">Spare Parts</h6>\r\n                        <div className=\"custom-control custom-switch mb-2\">\r\n                            <input type=\"checkbox\" checked={this.state.userDetails.viewInventoryRecords} value={this.state.userDetails.viewInventoryRecords}  className=\"custom-control-input\" id=\"viewInventoryRecords\" onChange={()=>{this.setUserPrivilege(\"viewInventoryRecords\")}}/>\r\n                            <label className=\"custom-control-label\" htmlFor=\"viewInventoryRecords\">View Inventory Records</label>\r\n                        </div>\r\n                        <div className=\"custom-control custom-switch mb-2\">\r\n                            <input type=\"checkbox\" checked={this.state.userDetails.addNewSparePart} value={this.state.userDetails.addNewSparePart} className=\"custom-control-input\" id=\"addNewSparePart\"  onChange={()=>{this.setUserPrivilege(\"addNewSparePart\")}}/>\r\n                            <label className=\"custom-control-label\" htmlFor=\"addNewSparePart\">Add New Spare Part</label>\r\n                        </div>\r\n                        <div className=\"custom-control custom-switch mb-2\">\r\n                            <input type=\"checkbox\" checked={this.state.userDetails.recordPurchase} value={this.state.userDetails.recordPurchase} className=\"custom-control-input\" id=\"recordPurchase\"  onChange={()=>{this.setUserPrivilege(\"recordPurchase\")}}/>\r\n                            <label className=\"custom-control-label\" htmlFor=\"recordPurchase\">Record Purchase</label>\r\n                        </div>\r\n                        <div className=\"custom-control custom-switch mb-2\">\r\n                            <input type=\"checkbox\" checked={this.state.userDetails.requestUsage} value={this.state.userDetails.requestUsage} className=\"custom-control-input\" id=\"requestUsage\"  onChange={()=>{this.setUserPrivilege(\"requestUsage\")}}/>\r\n                            <label className=\"custom-control-label\" htmlFor=\"requestUsage\">Request Usage</label>\r\n                        </div>\r\n                        <div className=\"custom-control custom-switch mb-2\">\r\n                            <input type=\"checkbox\" checked={this.state.userDetails.authorizePurchase} value={this.state.userDetails.authorizePurchase} className=\"custom-control-input\" id=\"authorizePurchase\"  onChange={()=>{this.setUserPrivilege(\"authorizePurchase\")}}/>\r\n                            <label className=\"custom-control-label\" htmlFor=\"authorizePurchase\">Authorize Purchase</label>\r\n                        </div>\r\n                        <div className=\"custom-control custom-switch mb-2\">\r\n                            <input type=\"checkbox\" checked={this.state.userDetails.authorizeUsage} value={this.state.userDetails.authorizeUsage} className=\"custom-control-input\" id=\"authorizeUsage\"  onChange={()=>{this.setUserPrivilege(\"authorizeUsage\")}}/>\r\n                            <label className=\"custom-control-label\" htmlFor=\"authorizeUsage\">Authorize Usage</label>\r\n                        </div>\r\n                        <div className=\"custom-control custom-switch mb-2\">\r\n                            <input type=\"checkbox\" checked={this.state.userDetails.viewItemHistory} value={this.state.userDetails.viewItemHistory} className=\"custom-control-input\" id=\"viewItemHistory\"  onChange={()=>{this.setUserPrivilege(\"viewItemHistory\")}}/>\r\n                            <label className=\"custom-control-label\" htmlFor=\"viewItemHistory\">View Item History</label>\r\n                        </div>\r\n    \r\n                        <h6 className=\"mt-3\">Vehicles</h6>\r\n                        <div className=\"custom-control custom-switch mb-2\">\r\n                            <input type=\"checkbox\" checked={this.state.userDetails.viewAllVehicles} value={this.state.userDetails.viewAllVehicles} className=\"custom-control-input\" id=\"viewAllVehicles\"  onChange={()=>{this.setUserPrivilege(\"viewAllVehicles\")}}/>\r\n                            <label className=\"custom-control-label\" htmlFor=\"viewAllVehicles\">View All Vehicles</label>\r\n                        </div>\r\n                        <div className=\"custom-control custom-switch mb-2\">\r\n                            <input type=\"checkbox\" checked={this.state.userDetails.addNewVehicle} value={this.state.userDetails.addNewVehicle} className=\"custom-control-input\" id=\"addNewVehicle\"  onChange={()=>{this.setUserPrivilege(\"addNewVehicle\")}}/>\r\n                            <label className=\"custom-control-label\" htmlFor=\"addNewVehicle\">Add New Vehicle</label>\r\n                        </div>\r\n                        <div className=\"custom-control custom-switch mb-2\">\r\n                            <input type=\"checkbox\" checked={this.state.userDetails.editVehicle} value={this.state.userDetails.editVehicle} className=\"custom-control-input\" id=\"editVehicle\"  onChange={()=>{this.setUserPrivilege(\"editVehicle\")}}/>\r\n                            <label className=\"custom-control-label\" htmlFor=\"editVehicle\">Edit Vehicle</label>\r\n                        </div>\r\n    \r\n                        <h6 className=\"mt-3\">History</h6>\r\n                        <div className=\"custom-control custom-switch mb-2\">\r\n                            <input type=\"checkbox\" checked={this.state.userDetails.viewHistory} value={this.state.userDetails.viewHistory} className=\"custom-control-input\" id=\"viewHistory\"   onChange={()=>{this.setUserPrivilege(\"viewHistory\")}}/>\r\n                            <label className=\"custom-control-label\" htmlFor=\"viewHistory\">View History</label>\r\n                        </div>\r\n    \r\n                        <button type=\"submit\" disabled={this.state.disableSubmitBtn}  className=\"btn btn-primary mt-3\" id=\"userAccessSubmitBtn\">Save Changes\r\n                        </button>\r\n                    </form>\r\n                </div>\r\n                \r\n            )\r\n        }else{\r\n            return <h5 className=\"text-danger\"> You need Permission to view this Page</h5>\r\n        }\r\n        }\r\n        \r\n}\r\n","import React from 'react';\r\nimport axios from 'axios';\r\n\r\n\r\nexport default class PurchaseItem extends React.Component{\r\n\r\n    constructor(props){\r\n        super(props);\r\n        this.state = {\r\n            itemName: '',\r\n            quantity: '',\r\n            cost: '',\r\n            supplier: '',\r\n            date: '',\r\n            invoiceNumber: '',\r\n            authorized: this.props.userDetails.authorizePurchase\r\n        };\r\n    }\r\n    handleChange = (event)=>{\r\n        this.setState({ [event.target.id]: event.target.value });\r\n        document.getElementById(event.target.id).classList.remove('border-danger')\r\n    }\r\n\r\n    calcAverageUnitCost = (prevData, newData)=>{\r\n        let lastCost, lastQty, newCost, newQty;\r\n        lastCost = parseInt(prevData.averageUnitCost) ;\r\n        lastQty = parseInt(prevData.quantity) ;\r\n        newCost = parseInt(newData.cost) ;\r\n        newQty = parseInt(newData.quantity) ;\r\n\r\n        console.log(lastCost);\r\n        console.log(newCost);\r\n\r\n        let averageUnitCost = ((lastCost * lastQty)+(newCost * newQty)) / (lastQty + newQty);\r\n        return Math.ceil(averageUnitCost/100)*100;\r\n    }\r\n\r\n\r\n\r\n    handleSubmit = (event)=>{\r\n        event.preventDefault();\r\n        let sparepartUpdated, purchaseHistoryAdded ;\r\n        if(this.requiredFieldsAreFilled()){\r\n            if(this.props.userDetails.recordPurchase && this.props.userDetails.authorizePurchase){\r\n                let sparePartDetails = this.props.sparePartDetailsByItemname(this.state.itemName)\r\n                let purchaseHistory = this.state;\r\n                let averageUnitCost = this.calcAverageUnitCost(sparePartDetails, this.state)\r\n                let currentValue = {...sparePartDetails, quantity: parseInt(sparePartDetails.quantity) + parseInt(this.state.quantity), averageUnitCost: averageUnitCost}\r\n                axios.post('http://localhost:5000/purchaseHistory/add', purchaseHistory)\r\n                    .then(res => {\r\n                        if(res.status === 200){\r\n                            axios.post('http://localhost:5000/spareParts/update/' +sparePartDetails._id, currentValue)\r\n                            .then(res => {\r\n                                console.log(res.data)\r\n                                if(res.status === 200){\r\n                                    this.props.loadAllSpareParts()\r\n                                    document.getElementById('cancelPurchaseModal').click()\r\n                                    this.props.setMessage('success', 'Spare Part Purchase Recorded')\r\n                                    setTimeout(this.props.clearMessage, 5000)\r\n                                }\r\n                            })\r\n                        }\r\n                    })\r\n                \r\n            }else if(this.props.userDetails.recordPurchase){\r\n                let purchaseHistory = this.state;\r\n                axios.post('http://localhost:5000/purchaseHistory/add', purchaseHistory)\r\n                    .then(res => {\r\n                        if(res.status === 200){\r\n                            console.log(res.data)\r\n                            this.props.loadUnAuthorizedPurchases()\r\n                            document.getElementById('cancelPurchaseModal').click()\r\n                            this.props.setMessage('success', 'Spare Part Purchase Recorded')\r\n                        }\r\n                    })\r\n            }\r\n        }else{\r\n            this.unfilledRequiredInputs().map((inputId)=>{\r\n                document.getElementById(inputId).classList.add('border-danger')\r\n            })\r\n        }\r\n    }\r\n\r\n    requiredFieldsAreFilled = ()=>{\r\n        let result = true;\r\n        if(this.state.itemName === ''){\r\n            result = false\r\n        }else if(this.state.quantity === ''){\r\n            result = false\r\n        }else if(this.state.cost === ''){\r\n            result = false\r\n        }else if(this.state.date === ''){\r\n            result = false\r\n        }\r\n        return result;\r\n    }\r\n    unfilledRequiredInputs = ()=>{\r\n        let unfilledRequiredInputs = [];\r\n        if(this.state.itemName === ''){\r\n            unfilledRequiredInputs.push('itemName')\r\n        }if(this.state.quantity === '' ){\r\n            unfilledRequiredInputs.push('quantity')\r\n        }if(this.state.cost === ''){\r\n            unfilledRequiredInputs.push('cost')\r\n        }if(this.state.date === ''){\r\n            unfilledRequiredInputs.push('date')\r\n        }\r\n        return unfilledRequiredInputs\r\n    }\r\n\r\n    itemNamesOptions(){\r\n        let allItemNames = this.props.allItemNames;\r\n        return(\r\n            <>\r\n                <option value=\"\">Select a Spare Part</option>\r\n                {allItemNames.map((category)=>{\r\n                    return(\r\n                        <option key={category} value={category}> {category}</option>\r\n                    )\r\n                })\r\n                }\r\n            </>\r\n        )\r\n    }\r\n    \r\n    render(){\r\n\r\n        return(\r\n            <div className=\"modal-dialog modal-dialog-centered modal-dialog-scrollable\">\r\n                <div className=\"modal-content\">\r\n                    <div className=\"modal-header\">\r\n                        <h5 className=\"modal-title text-secondary\" id=\"exampleModalLabel\">Spare Parts Purchases</h5>\r\n                        <button type=\"button\" className=\"close\" data-dismiss=\"modal\" aria-label=\"Close\" onClick={this.props.closePurchaseModal}>\r\n                            <span aria-hidden=\"true\">&times;</span>\r\n                        </button>\r\n                    </div>\r\n                    <div className=\"modal-body\">\r\n                        <form className=\"bg-white p-0\">\r\n                            <div className=\"form-group row\">\r\n                                <label htmlFor=\"itemName\" className=\"col-md-4 col-form-label col-form-label-sm\">\r\n                                    Item Name <span className=\"text-warning h5\"> *</span>\r\n                                </label>\r\n                                <div className=\"col-md-8\">\r\n                                    <select className=\"form-control form-control-sm\" id=\"itemName\" onChange={this.handleChange}\r\n                                    value={this.state.itemName}>\r\n                                        {this.itemNamesOptions()}\r\n                                    </select>\r\n                                </div>\r\n                            </div>\r\n\r\n                            <div className=\"form-group row\">\r\n                                <label htmlFor=\"quantity\" className=\"col-md-4 col-form-label col-form-label-sm\">\r\n                                    Quantity <span className=\"text-warning h5\"> *</span>\r\n                                </label>\r\n                                <div className=\"col-md-8\">\r\n                                    <input type=\"number\" className=\"form-control form-control-sm\" id=\"quantity\" onChange={this.handleChange} \r\n                                    value={this.state.quantity}/>\r\n                                </div>\r\n                            </div>\r\n\r\n                            <div className=\"form-group row\">\r\n                                <label htmlFor=\"cost\" className=\"col-md-4 col-form-label col-form-label-sm\">\r\n                                    Cost (1 unit) <span className=\"text-warning h5\"> *</span>\r\n                                </label>\r\n                                <div className=\"col-md-4 pr-0\">\r\n                                    <input type=\"number\" className=\"form-control form-control-sm\" id=\"cost\" onChange={this.handleChange} \r\n                                    value={this.state.cost}/>\r\n                                </div>\r\n                            </div>\r\n                            <div className=\"form-group row\">\r\n                                <label htmlFor=\"supplier\" className=\"col-md-4 col-form-label col-form-label-sm\">\r\n                                    Supplier\r\n                                </label>\r\n                                <div className=\"col-md-8\">\r\n                                    <input type=\"text\" className=\"form-control form-control-sm\" id=\"supplier\" onChange={this.handleChange} \r\n                                    value={this.state.supplier}/>\r\n                                </div>\r\n                            </div>\r\n                            <div className=\"form-group row\">\r\n                                <label htmlFor=\"datePurchased\" className=\"col-md-4 col-form-label col-form-label-sm\">\r\n                                    Date <span className=\"text-warning h5\"> *</span>\r\n                                </label>\r\n                                <div className=\"col-md-8\">\r\n                                    <input type=\"date\" className=\"form-control form-control-sm\" id=\"date\" onChange={this.handleChange} \r\n                                    value={this.state.date}/>\r\n                                </div>\r\n                            </div>\r\n                            <div className=\"form-group row\">\r\n                                <label htmlFor=\"invoiceNumber\" className=\"col-md-4 col-form-label col-form-label-sm\">\r\n                                    Invoice Number\r\n                                </label>\r\n                                <div className=\"col-md-8\">\r\n                                    <input type=\"text\" className=\"form-control form-control-sm\" id=\"invoiceNumber\" onChange={this.handleChange} \r\n                                    value={this.state.invoiceNumber}/>\r\n                                </div>\r\n                            </div>\r\n                            \r\n                            <input type=\"submit\" className=\"btn btn-sm btn-success float-right mr-2\" onClick={this.handleSubmit} value=\"Save\" />\r\n                            <a className=\"btn btn-sm btn-secondary text-white float-right mr-2\" id=\"cancelPurchaseModal\" data-dismiss=\"modal\" onClick={this.props.closePurchaseModal}>Cancel</a>\r\n                            \r\n                        </form>\r\n\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n}","import React, { Fragment } from 'react';\r\nimport axios from 'axios'\r\n\r\n\r\nexport default class UseItems extends React.Component{\r\n\r\n    constructor(props){\r\n        super(props);\r\n        this.state = {\r\n            items: [\r\n                {itemName1: '', quantity1:'', id:1}\r\n            ],\r\n            vehicleFor: '',\r\n            authorizedBy: '',\r\n            date: '',\r\n            purpose: '',\r\n            authorized: this.props.userDetails.authorizeUsage,\r\n            returnedDatabaseCalls: 0\r\n        };\r\n    }\r\n    handleChange = (event)=>{\r\n        if(event.target.id.includes('itemName')){\r\n            let allItems = this.state.items;\r\n            allItems.map((item)=>{\r\n                if(item.id == event.target.id.substr(-1)){\r\n                    item[\"itemName\" + item.id] = event.target.value;\r\n                    this.setState({items: allItems})\r\n                    document.getElementById(\"itemName\" + item.id).classList.remove('border-danger');\r\n                    //console.log(this.state);\r\n                }\r\n            })\r\n        }else if(event.target.id.includes('quantity')){\r\n            let allItems = this.state.items;\r\n            allItems.map((item)=>{\r\n                if(item.id == event.target.id.substr(-1)){\r\n                    item[\"quantity\" + item.id] = event.target.value;\r\n                    this.setState({items: allItems})\r\n                    document.getElementById(\"quantity\" + item.id).classList.remove('border-danger');\r\n                    //console.log(this.state)\r\n                }\r\n            })\r\n        }else{\r\n            this.setState({ [event.target.id]: event.target.value });\r\n            document.getElementById(event.target.id).classList.remove('border-danger')\r\n            //console.log(this.state)\r\n        }\r\n    }\r\n\r\n    handleSubmit = (event)=>{\r\n        event.preventDefault();\r\n        this.itemAndQtyAreSpecified();\r\n        let iterations = 0\r\n        if(this.requiredFieldsAreFilled() && this.itemAndQtyAreSpecified()){\r\n            this.arrayOfUsage().map(usageObj =>{\r\n                let itemDetails = this.props.sparePartDetailsByItemname(usageObj.itemName);\r\n                let newItemDetails = { ...itemDetails, quantity: parseInt(itemDetails.quantity) - (parseInt(usageObj.quantity))}\r\n\r\n                if(this.props.userDetails.requestUsage && this.props.userDetails.authorizeUsage){\r\n                    axios.post('http://localhost:5000/spareParts/update/' +newItemDetails._id, newItemDetails)\r\n                        .then(res => {\r\n                            console.log(res.data)\r\n                            \r\n                            axios.post('http://localhost:5000/usageHistory/add', usageObj)\r\n                                .then(res => {\r\n                                    console.log(res.data)\r\n                                    this.props.loadAllSpareParts()\r\n                                    this.props.loadUnAuthorizedUsage()\r\n                                    iterations += 1 ;\r\n                                    if(this.arrayOfUsage().length === iterations){\r\n                                        document.getElementById('cancelUseItemsModal').click()\r\n                                    }\r\n                                })\r\n                        })\r\n                }else if(this.props.userDetails.requestUsage){\r\n                    axios.post('http://localhost:5000/usageHistory/add', usageObj)\r\n                        .then(res => {\r\n                            console.log(res.data)\r\n                            this.props.loadAllSpareParts()\r\n                            this.props.loadUnAuthorizedUsage()\r\n                            iterations += 1;\r\n                            if(this.arrayOfUsage().length === iterations){\r\n                                document.getElementById('cancelUseItemsModal').click()\r\n                            }\r\n                        })\r\n                }\r\n            })\r\n        }else{\r\n            this.unfilledRequiredInputs().map((inputId)=>{\r\n                document.getElementById(inputId).classList.add('border-danger')\r\n            })\r\n        }\r\n    }\r\n\r\n    arrayOfUsage = ()=>{\r\n        let data = this.state;\r\n        let arrayOfUsage = [];\r\n\r\n        data.items.map((item) =>{\r\n            arrayOfUsage.push({\r\n                itemName: item[\"itemName\" + item.id],\r\n                quantity: item[\"quantity\" + item.id],\r\n                vehicleFor: data.vehicleFor,\r\n                authorizedBy: data.authorizedBy,\r\n                date: data.date,\r\n                purpose: data.purpose,\r\n                authorized: data.authorized\r\n            })\r\n        })\r\n        return arrayOfUsage\r\n    }\r\n\r\n    requiredFieldsAreFilled = ()=>{\r\n        let result = false;\r\n        if(this.unfilledRequiredInputs().length === 0){\r\n            result = true\r\n        }\r\n        return result;\r\n    }\r\n    unfilledRequiredInputs = ()=>{\r\n        let unfilledRequiredInputs = [];\r\n        if(this.state.vehicleFor === ''){\r\n            unfilledRequiredInputs.push('vehicleFor')\r\n        }if(this.state.date === ''){\r\n            unfilledRequiredInputs.push('date')\r\n        }\r\n        return unfilledRequiredInputs\r\n    }\r\n\r\n    itemAndQtyAreSpecified = ()=>{\r\n        let resultString = '';\r\n        let result = false\r\n        this.state.items.map((item)=>{\r\n            if(item[\"itemName\" + item.id] !== '' && item[\"quantity\" + item.id] !== ''){\r\n                resultString += 'true';\r\n            }else{\r\n                resultString += 'false';\r\n                if(item[\"itemName\" + item.id] === ''){\r\n                    document.getElementById(\"itemName\" + item.id).classList.add('border-danger');\r\n                }if(item[\"quantity\" + item.id] === ''){\r\n                    document.getElementById(\"quantity\" + item.id).classList.add('border-danger');\r\n                }\r\n            }\r\n        })\r\n        if(resultString.includes('false')){\r\n            result = false;\r\n        }else{\r\n            result = true;\r\n        }\r\n        return result;\r\n    }\r\n\r\n    itemNamesOptions = ()=>{\r\n        let allItemNames = this.props.allItemNames;\r\n        return(\r\n            <>\r\n                <option value=\"\" key=\"placeholder\">Select a Spare Part</option>\r\n                {allItemNames.map((category)=>{\r\n                    return(\r\n                        <option key={category} value={category}> {category}</option>\r\n                    )\r\n                })\r\n                }\r\n            </>\r\n        )\r\n    }\r\n\r\n    vehiclesOptions = ()=>{\r\n        let allVehicles = this.props.allVehicles;\r\n        return (\r\n            <>\r\n                <option value=\"\" key=\"placeholder\">Select a Vehicle</option>\r\n                {allVehicles.map((vehicle) => {\r\n                    return (\r\n                        <option key={vehicle} value={vehicle}> {vehicle}</option>\r\n                    )\r\n                })\r\n                }\r\n            </>\r\n        )\r\n    }\r\n\r\n    listOfItems = ()=>{\r\n        return(\r\n            this.state.items.map((item)=>{\r\n                return(\r\n                    <Fragment key={'itemName' + item.id}>\r\n                    <div className=\"col-md-8 pr-0 pb-2\">\r\n                        <select className=\"form-control form-control-sm\" id={'itemName' + item.id} onChange={this.handleChange} \r\n                        value={this.state.items[item.id -1]['itemName' + item.id]}>\r\n                            {this.itemNamesOptions()}\r\n                        </select>\r\n                    </div>\r\n                    <div className=\"col-md-4 pl-1 pb-2\">\r\n                        <input type=\"number\" className=\"form-control form-control-sm\" placeholder=\"quantity\" id={'quantity' + item.id} \r\n                        value={this.state.items[item.id -1]['quantity' + item.id]} onChange={this.handleChange}/>\r\n                    </div>\r\n                    </Fragment>\r\n                )\r\n            })\r\n        )\r\n        \r\n    }\r\n\r\n    addToListOfItems = ()=>{\r\n        let allItems = this.state.items;\r\n        allItems.push ({['itemName' + (allItems.length +1)]: '', ['quantity' + (allItems.length +1)]:'', id:allItems.length +1});\r\n        this.setState({items:allItems});\r\n    }\r\n\r\n    closeButton = ()=>{\r\n        if(this.state.items.length > 1){\r\n            return(\r\n                <a className=\"btn btn-sm close mt-auto mb-2 p-0\" onClick={()=>{\r\n                    let allItems = this.state.items;\r\n                    allItems.pop();\r\n                    this.setState({items: allItems})\r\n                }}>\r\n                    <span aria-hidden=\"true\">&times;</span>\r\n                </a>\r\n            )\r\n        }\r\n    }\r\n    \r\n    render(){\r\n\r\n        return(\r\n                <div className=\"modal-dialog modal-dialog-centered modal-dialog-scrollable\">\r\n                    <div className=\"modal-content\">\r\n                        <div className=\"modal-header\">\r\n                            <h5 className=\"modal-title text-secondary\" id=\"exampleModalLabel\">Spare Parts Usage</h5>\r\n                            <button type=\"button\" className=\"close\" data-dismiss=\"modal\" aria-label=\"Close\" onClick={this.props.closeUsageModal}>\r\n                                <span aria-hidden=\"true\">&times;</span>\r\n                            </button>\r\n                        </div>\r\n                        <div className=\"modal-body\">\r\n                            <form className=\"bg-white p-0\">\r\n                                <div className=\"form-group row\">\r\n                                    <label htmlFor=\"itemName1\" className=\"col-md-3 col-form-label col-form-label-sm\">\r\n                                        Items <span className=\"text-warning h5\"> *</span>\r\n                                    </label>\r\n                                    <div className=\"col-md-8\">\r\n                                        <div className=\"row\">\r\n                                            {this.listOfItems()}\r\n                                        </div>\r\n                                    </div>\r\n                                    <div className=\"d-flex flex-column col-md-1 pl-0 \">\r\n                                        <a className=\"btn btn-sm btn-outline-success\" onClick={()=>{this.addToListOfItems()}}>+</a>\r\n                                        {this.closeButton()}\r\n                                        \r\n                                    </div>\r\n                                </div>\r\n                                <div className=\"dropdown-divider mt-0\"></div>\r\n\r\n                                <div className=\"form-group row\">\r\n                                    <label htmlFor=\"vehicleFor\" className=\"col-md-3 col-form-label col-form-label-sm\">\r\n                                        Vehicle For <span className=\"text-warning h5\"> *</span>\r\n                                    </label>\r\n                                    <div className=\"col-md-9\">\r\n                                        <select className=\"form-control form-control-sm\" id=\"vehicleFor\" onChange={this.handleChange}\r\n                                        value={this.state.vehicleFor}>\r\n                                            {this.vehiclesOptions()}\r\n                                        </select>\r\n                                        {/* <input type=\"text\" className=\"form-control form-control-sm\" id=\"vehicleFor\" onChange={this.handleChange} value={this.state.vehicleFor}/> */}\r\n                                    </div>\r\n                                </div>\r\n\r\n                                <div className=\"form-group row\">\r\n                                    <label htmlFor=\"authorizedBy\" className=\"col-md-3 col-form-label col-form-label-sm\">\r\n                                        Authorized By\r\n                                    </label>\r\n                                    <div className=\"col-md-9\">\r\n                                        <input type=\"text\" className=\"form-control form-control-sm\" id=\"authorizedBy\" onChange={this.handleChange} value={this.state.authorizedBy}/>\r\n                                    </div>\r\n                                </div>\r\n\r\n                                <div className=\"form-group row\">\r\n                                    <label htmlFor=\"date\" className=\"col-md-3 col-form-label col-form-label-sm\">\r\n                                        Date <span className=\"text-warning h5\"> *</span>\r\n                                    </label>\r\n                                    <div className=\"col-md-9\">\r\n                                        <input type=\"date\" className=\"form-control form-control-sm\" id=\"date\" onChange={this.handleChange}  \r\n                                        value={this.state.date}/>\r\n                                    </div>\r\n                                </div>\r\n\r\n                                <div className=\"form-group row\">\r\n                                    <label htmlFor=\"purpose\" className=\"col-md-3 col-form-label col-form-label-sm\">\r\n                                        Purpose\r\n                                    </label>\r\n                                    <div className=\"col-md-9\">\r\n                                    <textarea rows=\"3\" className=\"form-control w-100 rounded\" id=\"purpose\"  onChange={this.handleChange}  value={this.state.purpose}>\r\n                                    </textarea>\r\n                                    </div>\r\n                                </div>\r\n\r\n                                \r\n                                \r\n                                <input type=\"submit\" className=\"btn btn-sm btn-success float-right mr-2\" data-dismiss=\"modal\"  onClick={this.handleSubmit} value=\"Save\" />\r\n                                <a className=\"btn btn-sm btn-secondary text-white float-right mr-2\" id=\"cancelUseItemsModal\" onClick={this.props.closeUsageModal} data-dismiss=\"modal\">Cancel</a>\r\n                                \r\n                            </form>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n        )\r\n    }\r\n}","import React from 'react';\r\nimport axios from 'axios';\r\nimport { Link } from 'react-router-dom';\r\nimport PurchaseItem from './purchaseItem';\r\nimport UseItems from './useItems';\r\n\r\nfunction TableRow (props){\r\n    return(\r\n        <>\r\n            <th scope=\"row\">{props.SN}</th>\r\n            <td>\r\n                <Link to={\"sparepartdetails/\" +props.id} className=\"text-dark\">\r\n                {props.itemName}\r\n                </Link>\r\n            </td>\r\n            \r\n            <td>{props.category}</td>\r\n\r\n            <td>{props.quantity}</td>\r\n\r\n            <td>{props.averageUnitCost}</td>\r\n        </>\r\n    )\r\n}\r\n\r\nexport default class SpareParts extends React.Component{\r\n    constructor(props){\r\n        super(props);\r\n        this.state = {\r\n            showPurchaseModal: false,\r\n            showUsageModal: false\r\n        }\r\n    } \r\n\r\n    sortTableItems = ()=>{\r\n        let allItems = [];\r\n        this.props.allSpareParts.map((item) => {\r\n            allItems.push(item.itemName);\r\n        })\r\n        let sortedItems = allItems.sort();\r\n        let sortedTableItems = [];\r\n        sortedItems.map((sortedItem) => {\r\n            this.props.allSpareParts.map((tableItem) => {\r\n                if (sortedItem === tableItem.itemName) {\r\n                    sortedTableItems.push(tableItem);\r\n                }\r\n            })\r\n        })\r\n        return sortedTableItems\r\n    }\r\n\r\n    allTableRows = ()=>{\r\n        if(this.props.userDetails.viewInventoryRecords){\r\n            return(\r\n                this.sortTableItems().map((sparepart) =>{\r\n                    return(\r\n                        <tr key={sparepart._id}>\r\n                            <TableRow \r\n                            id={sparepart._id}\r\n                            SN={this.sortTableItems().indexOf(sparepart) + 1}\r\n                            itemName={sparepart.itemName}\r\n                            category={sparepart.category}\r\n                            quantity={parseInt(sparepart.quantity)}\r\n                            averageUnitCost={sparepart.averageUnitCost}/>\r\n                        </tr>\r\n                    )\r\n                })\r\n            )\r\n        }else{\r\n            return <tr><td></td><td className=\"text-danger h6\"> You need permission to view this data</td></tr>\r\n        }\r\n        \r\n        \r\n    }\r\n\r\n    purchaseModal = ()=>{\r\n        if(this.state.showPurchaseModal){\r\n            return(\r\n                <PurchaseItem \r\n                    userDetails={this.props.userDetails}\r\n                    allItemNames={this.props.allItemNames()}\r\n                    closePurchaseModal={this.closePurchaseModal}\r\n                    sparePartDetailsByItemname={this.props.sparePartDetailsByItemname}\r\n                    loadAllSpareParts={this.props.loadAllSpareParts}\r\n                    loadUnAuthorizedPurchases={this.props.loadUnAuthorizedPurchases}\r\n                    setMessage={this.props.setMessage}\r\n                    clearMessage={this.props.clearMessage}\r\n                /> \r\n            )\r\n        }\r\n    }\r\n    openPurchaseModal = ()=>{\r\n        this.setState({showPurchaseModal: true})\r\n        this.props.setActiveModal('cancelPurchaseModal')\r\n    }\r\n    closePurchaseModal = ()=>{\r\n        this.setState({showPurchaseModal: false})\r\n        this.props.resetActiveModal()\r\n    }\r\n    \r\n\r\n\r\n    usageModal = ()=>{\r\n        if(this.state.showUsageModal){\r\n            return(\r\n                <UseItems\r\n                    userDetails={this.props.userDetails}\r\n                    allItemNames={this.props.allItemNames()}\r\n                    closeUsageModal={this.closeUsageModal}\r\n                    allVehicles={this.props.allVehicles()}\r\n                    sparePartDetailsByItemname={this.props.sparePartDetailsByItemname}\r\n                    loadAllSpareParts={this.props.loadAllSpareParts}\r\n                    updateSparePartDetails={this.props.updateSparePartDetails}\r\n                    loadUnAuthorizedUsage={this.props.loadUnAuthorizedUsage}\r\n                    setMessage={this.props.setMessage}\r\n                    clearMessage={this.props.clearMessage}\r\n                />\r\n            )\r\n        }\r\n    }\r\n    openUsageModal = ()=>{\r\n        this.setState({showUsageModal: true})\r\n        this.props.setActiveModal('cancelUseItemsModal')\r\n    }\r\n    closeUsageModal = ()=>{\r\n        this.setState({showUsageModal: false})\r\n        this.props.resetActiveModal()\r\n    }\r\n\r\n    newSparePartBtn = ()=>{\r\n        if(this.props.userDetails.addNewSparePart){\r\n            return <Link to=\"/newSparePart\" className=\"btn btn-sm btn-outline-secondary mr-2\">New Spare Part</Link>\r\n        }\r\n    }\r\n\r\n    purchaseModalBtn = ()=>{\r\n        if(this.props.userDetails.recordPurchase){\r\n            return (\r\n                <button className=\"btn btn-sm btn-outline-success mr-2\" data-toggle=\"modal\" data-target=\"#purchaseModal\" onClick={this.openPurchaseModal}>\r\n                    Purchase\r\n                </button>\r\n            )\r\n        }\r\n    }\r\n\r\n    usageModalBtn = ()=>{\r\n        if(this.props.userDetails.requestUsage){\r\n            return (\r\n                <button className=\"btn btn-sm btn-outline-danger mr-2\" data-toggle=\"modal\" data-target=\"#UsageModal\"  onClick={this.openUsageModal}>\r\n                    Usage\r\n                </button>\r\n            )\r\n        }\r\n    }\r\n\r\n    \r\n    render(){\r\n        return (\r\n            <div className=\"col px-4\">\r\n                <header className=\"clearfix\">\r\n                    <h4 className=\"float-left text-secondary pl-1\">Spare Part Inventory</h4>\r\n                    <span className=\"d-none d-md-inline float-right\">\r\n                        {this.newSparePartBtn()}\r\n                        {this.purchaseModalBtn()}\r\n                        {this.usageModalBtn()}\r\n                    </span>\r\n\r\n                    \r\n\r\n                    <span className=\"d-block d-md-none float-right mr-1\">\r\n                        <div className=\"btn-group\">\r\n                            <button type=\"button\" className=\"btn btn-sm btn-outline-secondary dropdown-toggle\" data-toggle=\"dropdown\" aria-haspopup=\"true\" aria-expanded=\"false\">\r\n                                Actions\r\n                            </button>\r\n                            <div className=\"dropdown-menu dropdown-menu-right\">\r\n                                <button className=\"dropdown-item\" type=\"button\">Reorder Item</button>\r\n                                <button className=\"dropdown-item\" type=\"button\">Add New Item</button>\r\n                                <button className=\"dropdown-item\" type=\"button\">Give Out Item</button>\r\n                            </div>\r\n                        </div>\r\n                    </span>\r\n                </header>\r\n\r\n\r\n                <table className=\"table rounded bg-white\">\r\n                    <thead>\r\n                        <tr>\r\n                            <th scope=\"col\">#</th>\r\n                            <th scope=\"col\" style={{minWidth:'250px'}}>Item Name</th>\r\n                            <th scope=\"col\">Category</th>\r\n                            <th scope=\"col\">On Hand</th>\r\n                            <th scope=\"col\">Av. Unit Cost</th>\r\n                        </tr>\r\n                    </thead>\r\n                    <tbody>\r\n                        {this.allTableRows()}\r\n                    </tbody>\r\n                </table>\r\n\r\n                <div className=\"modal\" id=\"purchaseModal\" tabIndex=\"-1\" role=\"dialog\" aria-labelledby=\"purchaseModalLabel\" aria-hidden=\"true\" data-backdrop=\"static\" data-keyboard=\"false\">\r\n                    {this.purchaseModal()}\r\n                </div>\r\n\r\n                <div className=\"modal\" id=\"UsageModal\" tabIndex=\"-1\" role=\"dialog\" aria-labelledby=\"UsageModalLabel\" aria-hidden=\"true\" data-backdrop=\"static\" data-keyboard=\"false\">\r\n                    {this.usageModal()}\r\n                </div>\r\n            </div>\r\n            \r\n        )\r\n    }\r\n}\r\n","import React from 'react';\r\nimport axios from 'axios';\r\n//import correct from '../../images/correct.svg';\r\n\r\nexport default class NewSparePart extends React.Component{\r\n\r\n    constructor(props){\r\n        super(props);\r\n        this.state = {\r\n            newSparePart:{\r\n                itemName: '',\r\n                category: '',\r\n                manufacturer: '',\r\n                partNumber: '',\r\n                model: '',\r\n                serialNumber: '',\r\n                quantity: 0,\r\n                reorderlevel: 0,\r\n                averageUnitCost: 0,\r\n                description: '',\r\n            },\r\n            categoryOptions: []\r\n            \r\n        }\r\n    }\r\n    componentDidMount = ()=>{\r\n        axios.get('http://localhost:5000/spareParts/categories')\r\n            .then(res=>{this.setState({categoryOptions: res.data})})\r\n    }\r\n    handleChange = (event)=>{\r\n        let newSparePart = this.state.newSparePart;\r\n        if(event.target.id ==='category' || event.target.id ==='newCategory'){\r\n            if(document.getElementById('newCategory').value === ''){\r\n                newSparePart.category = document.getElementById('category').value;\r\n                this.setState({newSparePart: newSparePart})\r\n            }else{\r\n                newSparePart.category = document.getElementById('newCategory').value\r\n                this.setState({newSparePart: newSparePart})\r\n            }\r\n        }else{\r\n            newSparePart[event.target.id] = event.target.value;\r\n            this.setState({ newSparePart: newSparePart });\r\n            document.getElementById(event.target.id).classList.remove('border-danger')\r\n        }\r\n    }\r\n\r\n    handleSubmit = (event)=>{\r\n        event.preventDefault();\r\n        if (this.requiredFieldsAreFilled()){\r\n            if(this.props.doesNewSparePartExist(this.state.newSparePart.itemName) === false){\r\n                axios.post('http://localhost:5000/spareParts/add', this.state.newSparePart)\r\n                .then(\r\n                    (res)=>{\r\n                        if(res.status === 200){\r\n                            this.props.loadAllSpareParts()\r\n                            this.props.setMessage('success', 'New Spare Part Added')\r\n                            setTimeout(this.props.clearMessage, 5000)\r\n                        }\r\n                    }\r\n                )\r\n            }else{\r\n                this.props.setMessage('danger','Sparepart Already Exists')\r\n                setTimeout(this.props.clearMessage, 5000)\r\n            }\r\n            \r\n                \r\n        }else{\r\n            this.unfilledRequiredInputs().map((inputId)=>{\r\n                document.getElementById(inputId).classList.add('border-danger')\r\n            })\r\n        }\r\n    }\r\n\r\n    requiredFieldsAreFilled = ()=>{\r\n        let result = true;\r\n        if(document.getElementById('itemName').value === ''){\r\n            result = false\r\n        }else if(document.getElementById('quantity').value === ''){\r\n            result = false\r\n        }else if(document.getElementById('reorderlevel').value === ''){\r\n            result = false\r\n        }else if(document.getElementById('averageUnitCost').value === ''){\r\n            result = false\r\n        }\r\n        return result;\r\n    }\r\n    unfilledRequiredInputs = ()=>{\r\n        let unfilledRequiredInputs = [];\r\n        if(document.getElementById('itemName').value === ''){\r\n            unfilledRequiredInputs.push('itemName')\r\n        }if(document.getElementById('quantity').value === ''){\r\n            unfilledRequiredInputs.push('quantity')\r\n        }if(document.getElementById('reorderlevel').value === ''){\r\n            unfilledRequiredInputs.push('reorderlevel')\r\n        }if(document.getElementById('averageUnitCost').value === ''){\r\n            unfilledRequiredInputs.push('averageUnitCost')\r\n        }\r\n        return unfilledRequiredInputs\r\n    }\r\n\r\n    \r\n\r\n    categoryOptions(){\r\n        let allCategories = this.state.categoryOptions;\r\n        return(\r\n            <>\r\n                <option value={null}>Select a category</option>\r\n                {allCategories.map((category)=>{\r\n                    return(\r\n                        <option key={category} value={category}> {category}</option>\r\n                    )\r\n                })\r\n                }\r\n            </>\r\n        )\r\n    }\r\n    \r\n    render(){\r\n        if(this.props.userDetails.addNewSparePart){\r\n            return(\r\n                <div className=\"col px-4\">\r\n                <header className=\"clearfix\">\r\n                    <h4 className=\"text-secondary d-inline-block float-left pl-1\">Add New Spare Part</h4>\r\n                </header>\r\n                <section className=\"card\">\r\n                    <div className=\"card-body\">\r\n                        <form className=\"bg-white\">\r\n                            <div className=\"form-group row\">\r\n                                <label htmlFor=\"itemName\" className=\"col-sm-2 col-form-label col-form-label-sm\">\r\n                                    Item Name <span className=\"text-warning h5\"> *</span>\r\n                                </label>\r\n                                <div className=\"col-sm-6\">\r\n                                    <input type=\"text\" required className=\"form-control form-control-sm\" id=\"itemName\" onChange={this.handleChange}/>\r\n                                </div>\r\n                            </div>\r\n    \r\n                            <div className=\"form-group row\">\r\n                                <label htmlFor=\"category\" className=\"col-sm-2 col-form-label col-form-label-sm\">Category</label>\r\n                                <div className=\"col-sm-3\">\r\n                                    <select className=\"form-control form-control-sm\" id=\"category\" onChange={this.handleChange}>\r\n                                        {this.categoryOptions()}\r\n                                    </select>\r\n                                </div>\r\n                                <div className=\"col-sm-3\">\r\n                                    <input type=\"text\" className=\"form-control form-control-sm\" id=\"newCategory\" onChange={this.handleChange} placeholder=\"New Category\"/>\r\n                                </div>\r\n                            </div>\r\n                            <div className=\"form-group row\">\r\n                                <label htmlFor=\"manufacturer\" className=\"col-sm-2 col-form-label col-form-label-sm\">Manufacturer</label>\r\n                                <div className=\"col-sm-6\">\r\n                                    <input type=\"text\" className=\"form-control form-control-sm\" id=\"manufacturer\" onChange={this.handleChange}/>\r\n                                </div>\r\n                            </div>\r\n                            <div className=\"form-group row\">\r\n                                <label htmlFor=\"partNumber\" className=\"col-sm-2 col-form-label col-form-label-sm\">Part Number</label>\r\n                                <div className=\"col-sm-4\">\r\n                                    <input type=\"text\" className=\"form-control form-control-sm\" id=\"partNumber\"  onChange={this.handleChange}/>\r\n                                </div>\r\n                            </div>\r\n                            <div className=\"form-group row\">\r\n                                <label htmlFor=\"model\" className=\"col-sm-2 col-form-label col-form-label-sm\">Model</label>\r\n                                <div className=\"col-sm-6\">\r\n                                    <input type=\"text\" className=\"form-control form-control-sm\" id=\"model\" onChange={this.handleChange} />\r\n                                </div>\r\n                            </div>\r\n                            <div className=\"form-group row\">\r\n                                <label htmlFor=\"serialNumber\" className=\"col-sm-2 col-form-label col-form-label-sm\">Serial Number</label>\r\n                                <div className=\"col-sm-6\">\r\n                                    <input type=\"text\" className=\"form-control form-control-sm\" id=\"serialNumber\"  onChange={this.handleChange}/>\r\n                                </div>\r\n                            </div>\r\n                            <div className=\"form-group row\">\r\n                                <label htmlFor=\"quantity\" className=\"col-sm-2 col-form-label col-form-label-sm\">\r\n                                    Quantity <span className=\"text-warning h5\"> *</span>\r\n                                </label>\r\n                                <div className=\"col-sm-4\">\r\n                                    <input type=\"number\" required className=\"form-control form-control-sm\" id=\"quantity\"  onChange={this.handleChange}/>\r\n                                </div>\r\n                            </div>\r\n                            <div className=\"form-group row\">\r\n                                <label htmlFor=\"reorderlevel\" className=\"col-sm-2 col-form-label col-form-label-sm\">\r\n                                    Reorder Level<span className=\"text-warning h5\"> *</span>\r\n                                </label>\r\n                                <div className=\"col-sm-4\">\r\n                                    <input type=\"number\" required className=\"form-control form-control-sm\" id=\"reorderlevel\"  onChange={this.handleChange}/>\r\n                                </div>\r\n                            </div>\r\n                            <div className=\"form-group row\">\r\n                                <label htmlFor=\"initialCost\" className=\"col-sm-2 col-form-label col-form-label-sm\">\r\n                                    Cost<span className=\"text-warning h5\"> *</span>\r\n                                </label>\r\n                                <div className=\"col-sm-4\">\r\n                                    <input type=\"text\" required className=\"form-control form-control-sm\" id=\"averageUnitCost\"   onChange={this.handleChange}/>\r\n                                </div>\r\n                            </div>\r\n                            <div className=\"form-group row\">\r\n                                <label htmlFor=\"colFormLabelSm\" className=\"col-sm-2 col-form-label col-form-label-sm\">Description</label>\r\n                                <div className=\"col-sm-6\">\r\n                                    <textarea rows=\"3\" className=\"form-control w-100 rounded\" id=\"description\"  onChange={this.handleChange}>\r\n    \r\n                                    </textarea>\r\n                                </div>\r\n                            </div>\r\n                            <input type=\"submit\" className=\"btn btn-sm btn-success mr-2\" value=\"Save\"  onClick={this.handleSubmit}/> \r\n                        </form>\r\n                    </div>\r\n                </section>\r\n                </div>\r\n            )\r\n        }else{\r\n            return <h5 className=\"text-danger\"> You need Permission to view this Page</h5>\r\n        }\r\n        \r\n    }\r\n}","import React from 'react';\r\nimport axios from 'axios';\r\n\r\n\r\nexport default class EditSparePart extends React.Component{\r\n\r\n    constructor(props){\r\n        super(props);\r\n        this.state = {\r\n            _id: this.props._id,\r\n            itemName: this.props.itemName,\r\n            category: this.props.category,\r\n            manufacturer: this.props.manufacturer,\r\n            partNumber: this.props.partNumber,\r\n            model: this.props.model,\r\n            serialNumber:this.props.serialNumber,\r\n            reorderlevel: this.props.reorderlevel,\r\n            description: this.props.description,\r\n            quantity: this.props.quantity,\r\n            averageUnitCost: this.props.averageUnitCost\r\n        }\r\n    }\r\n\r\n\r\n    handleChange = (event)=>{\r\n        if(event.target.id ==='category' || event.target.id ==='newCategory'){\r\n            if(document.getElementById('newCategory').value === ''){\r\n                this.setState({category: document.getElementById('category').value})\r\n            }else{\r\n                this.setState({category: document.getElementById('newCategory').value})\r\n            }\r\n        }else{\r\n            this.setState({ [event.target.id]: event.target.value });\r\n            document.getElementById(event.target.id).classList.remove('border-danger')\r\n        }\r\n    }\r\n\r\n    handleSubmit = (event)=>{\r\n        event.preventDefault()\r\n        if(this.requiredFieldsAreFilled()){\r\n            if(this.props.doesSparePartExist(this.state.itemName) === false || this.state.itemName.toLowerCase().trim() === this.props.itemName.toLowerCase().trim()){\r\n                document.getElementById('itemnameErrorMessage').textContent = \"\"\r\n                axios.post('http://localhost:5000/spareParts/update/' +this.state._id, this.state)\r\n                    .then((res) => {\r\n                        if(res.status === 200){\r\n                            this.props.loadAllSpareParts()\r\n                            document.getElementById('cancelEditItemForm').click()\r\n                            this.props.setMessage('success', 'Spare Part Updated')\r\n                            setTimeout(this.props.clearMessage, 5000)\r\n                        }\r\n                        \r\n                    })\r\n            }else{\r\n                document.getElementById('itemnameErrorMessage').textContent = \"Spare Part Already Exists\"\r\n                document.getElementById('itemName').classList.add('border-danger')\r\n            }\r\n        }else{\r\n            this.unfilledRequiredInputs().map((inputId)=>{\r\n                document.getElementById(inputId).classList.add('border-danger')\r\n            })\r\n            //this.props.setWarningMessage('Fill out the highlighted fields')\r\n        }\r\n        \r\n    }\r\n\r\n\r\n    requiredFieldsAreFilled = ()=>{\r\n        let result = true;\r\n        if(document.getElementById('itemName').value === ''){\r\n            result = false\r\n        }else if(document.getElementById('reorderlevel').value === ''){\r\n            result = false\r\n        }\r\n        return result;\r\n    }\r\n    unfilledRequiredInputs = ()=>{\r\n        let unfilledRequiredInputs = [];\r\n        if(document.getElementById('itemName').value === ''){\r\n            unfilledRequiredInputs.push('itemName')\r\n        }if(document.getElementById('reorderlevel').value === ''){\r\n            unfilledRequiredInputs.push('reorderlevel')\r\n        }\r\n        return unfilledRequiredInputs\r\n    }\r\n\r\n\r\n\r\n\r\n\r\n\r\n    categoryOptions = () => {\r\n        let allCategories = this.props.allCategories;\r\n        return(\r\n            <>\r\n                <option value={null}>Select a category</option>\r\n                {allCategories.map((category)=>{\r\n                    return(\r\n                        <option key={category} value={category}> {category}</option>\r\n                    )\r\n                })\r\n                }\r\n            </>\r\n        )\r\n    } \r\n\r\n    render() {\r\n        return(\r\n            \r\n            <div className=\"modal-dialog modal-dialog-centered modal-dialog-scrollable\">\r\n                <div className=\"modal-content\">\r\n                    <div className=\"modal-header\">\r\n                        <h5 className=\"modal-title text-secondary\" id=\"exampleModalLabel\">Edit {this.props.itemName}</h5>\r\n                        <button type=\"button\" className=\"close\" data-dismiss=\"modal\" aria-label=\"Close\" onClick={this.props.closeModal}>\r\n                            <span aria-hidden=\"true\">&times;</span>\r\n                        </button>\r\n                    </div>\r\n                    <div className=\"modal-body\">\r\n                    <form className=\"bg-white\">\r\n                        <div className=\"form-group row\">\r\n                            <label htmlFor=\"itemName\" className=\"col-sm-4 col-form-label col-form-label-sm\">\r\n                                Item Name\r\n                            </label>\r\n                            <div className=\"col-sm-8\">\r\n                                <small className=\"d-block text-danger\" id=\"itemnameErrorMessage\"></small>\r\n                                <input type=\"text\" className=\"form-control form-control-sm\" id=\"itemName\" defaultValue={this.state.itemName} onChange={this.handleChange}/>\r\n                            </div>\r\n                        </div>\r\n\r\n                        <div className=\"form-group row\">\r\n                            <label className=\"col-sm-4 col-form-label col-form-label-sm\">Category</label>\r\n                            <div className=\"col-sm-4 pr-0\">\r\n                                <select className=\"form-control form-control-sm\" id=\"category\" defaultValue={this.props.category} onChange={this.handleChange}>\r\n                                    {this.categoryOptions()}\r\n                                </select>\r\n                            </div>\r\n                            <div className=\"col-sm-4 pl-0\">\r\n                                <input type=\"text\" className=\"form-control form-control-sm\" id=\"newCategory\" placeholder=\"New Category\"  onChange={this.handleChange}/>\r\n                            </div>\r\n                        </div>\r\n\r\n                        <div className=\"form-group row\">\r\n                            <label htmlFor=\"manufacturer\" className=\"col-sm-4 col-form-label col-form-label-sm\">Manufacturer</label>\r\n                            <div className=\"col-sm-8\">\r\n                                <input type=\"text\" className=\"form-control form-control-sm\" id=\"manufacturer\" defaultValue={this.state.manufacturer} onChange={this.handleChange}/>\r\n                            </div>\r\n                        </div>\r\n                        <div className=\"form-group row\">\r\n                            <label htmlFor=\"partNumber\" className=\"col-sm-4 col-form-label col-form-label-sm\">Part Number</label>\r\n                            <div className=\"col-sm-8\">\r\n                                <input type=\"text\" className=\"form-control form-control-sm\" id=\"partNumber\" defaultValue={this.state.partNumber} onChange={this.handleChange}/>\r\n                            </div>\r\n                        </div>\r\n                        <div className=\"form-group row\">\r\n                            <label htmlFor=\"model\" className=\"col-sm-4 col-form-label col-form-label-sm\">Model</label>\r\n                            <div className=\"col-sm-8\">\r\n                                <input type=\"text\" className=\"form-control form-control-sm\" id=\"model\" defaultValue={this.state.model} onChange={this.handleChange} />\r\n                            </div>\r\n                        </div>\r\n                        <div className=\"form-group row\">\r\n                            <label htmlFor=\"serialNumber\" className=\"col-sm-4 col-form-label col-form-label-sm\">Serial Number</label>\r\n                            <div className=\"col-sm-8\">\r\n                                <input type=\"text\" className=\"form-control form-control-sm\" id=\"serialNumber\" defaultValue={this.state.serialNumber}  onChange={this.handleChange}/>\r\n                            </div>\r\n                        </div>\r\n                        <div className=\"form-group row\">\r\n                            <label htmlFor=\"reorderlevel\" className=\"col-sm-4 col-form-label col-form-label-sm\">\r\n                                Reorder Level\r\n                            </label>\r\n                            <div className=\"col-sm-8\">\r\n                                <input type=\"number\" className=\"form-control form-control-sm\" id=\"reorderlevel\" defaultValue={this.state.reorderlevel}  onChange={this.handleChange}/>\r\n                            </div>\r\n                        </div>\r\n                        <div className=\"form-group row\">\r\n                            <label htmlFor=\"colFormLabelSm\" className=\"col-sm-4 col-form-label col-form-label-sm\">Description</label>\r\n                            <div className=\"col-sm-8\">\r\n                                <textarea rows=\"3\" className=\"w-100 rounded\"  defaultValue={this.props.description} id=\"description\"  onChange={this.handleChange}>\r\n\r\n                                </textarea>\r\n                            </div>\r\n                        </div>\r\n                        <input type=\"submit\" className=\"btn btn-sm btn-success float-right\" onClick={this.handleSubmit} value=\"Save\" />\r\n                        <a className=\"btn btn-sm btn-secondary text-white float-right mr-2\" id=\"cancelEditItemForm\" data-dismiss=\"modal\" onClick={this.props.closeModal}>Discard</a>\r\n                    </form>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        ) \r\n    }\r\n\r\n}","import React from 'react';\r\nimport EditSparePart from './editSparePart';\r\nimport { Link } from 'react-router-dom';\r\nimport axios from 'axios';\r\n\r\nexport default class SparePartDetails extends React.Component{\r\n    constructor(props){\r\n        super(props)\r\n        this.state={\r\n            modalOpen: false,\r\n            thisMonthPurchaseHistory: [],\r\n            thisMonthUsageHistory: []\r\n\r\n        }\r\n    }\r\n\r\n    componentDidMount = ()=>{\r\n        const href = window.location.href;\r\n        const id = href.substr(href.length-24, href.length).toString();\r\n        axios.get('http://localhost:5000/purchaseHistory/findMonth/' + this.props.sparePartDetails(id).itemName)\r\n            .then((res) =>{\r\n                if(res.status === 200){\r\n                    this.setState({thisMonthPurchaseHistory: res.data})\r\n                }\r\n            })\r\n        axios.get('http://localhost:5000/usageHistory/findMonth/' + this.props.sparePartDetails(id).itemName)\r\n            .then((res) =>{\r\n                if(res.status === 200){\r\n                    this.setState({thisMonthUsageHistory: res.data})\r\n                }\r\n            })\r\n    }\r\n\r\n    returnValue = (value)=>{\r\n        if(value === ''){\r\n            return 'Not Specified'\r\n        }else {\r\n            return value\r\n        } \r\n    }\r\n\r\n    openModal = ()=>{\r\n        this.setState({modalOpen: true})\r\n        this.props.setActiveModal('cancelEditItemForm')\r\n    }\r\n\r\n    closeModal = ()=>{\r\n        this.setState({modalOpen: false})\r\n        this.props.resetActiveModal()\r\n    }\r\n    modal = ()=>{\r\n        const href = window.location.href;\r\n        const id = href.substr(href.length-24, href.length).toString();\r\n        if(this.state.modalOpen){\r\n            return(\r\n                <EditSparePart \r\n                    _id={this.props.sparePartDetails(id)._id}\r\n                    itemName={this.props.sparePartDetails(id).itemName}\r\n                    category={this.props.sparePartDetails(id).category}\r\n                    manufacturer={this.props.sparePartDetails(id).manufacturer}\r\n                    partNumber={this.props.sparePartDetails(id).partNumber}\r\n                    model={this.props.sparePartDetails(id).model}\r\n                    serialNumber={this.props.sparePartDetails(id).serialNumber}\r\n                    reorderlevel={this.props.sparePartDetails(id).reorderlevel}\r\n                    description={this.props.sparePartDetails(id).description}\r\n                    quantity={this.props.sparePartDetails(id).quantity}\r\n                    averageUnitCost={this.props.sparePartDetails(id).averageUnitCost}\r\n                    \r\n                    doesSparePartExist={this.props.doesSparePartExist}\r\n                    loadAllSpareParts={this.props.loadAllSpareParts}\r\n                    closeModal={this.closeModal}\r\n                    onSubmit={this.props.updateSparePartDetails}\r\n                    allCategories={this.props.allCategories}\r\n                    setMessage={this.props.setMessage}\r\n                    clearMessage={this.props.clearMessage}\r\n                />\r\n            \r\n            )\r\n        }\r\n    }\r\n\r\n    numberPurchased = ()=>{\r\n        let result = 0\r\n        this.state.thisMonthPurchaseHistory.map((history) =>{\r\n            result += history.quantity\r\n        })\r\n        return result;\r\n    }\r\n\r\n    numberUsed = ()=>{\r\n        let result = 0\r\n        this.state.thisMonthUsageHistory.map((history) =>{\r\n            result += history.quantity\r\n        })\r\n        return result;\r\n    }\r\n\r\n\r\n    render(){\r\n        const href = window.location.href;\r\n        const id = href.substr(href.length-24, href.length).toString();\r\n        let month = [\"Jan\",\"Feb\",\"Mar\",\"Apr\",\"May\",\"Jun\",\"Jul\",\"Aug\",\"Sep\",\"Oct\",\"Nov\",\"Dec\"]\r\n\r\n        return(\r\n\r\n            <div className=\"col px-4\">\r\n                <section className=\"card\">\r\n                    <header className=\"card-header bg-white clearfix\">\r\n                        <h5 className=\"d-inline-block text-secondary mb-0\">Details For <span className=\"text-info\">{this.props.sparePartDetails(id).itemName}</span></h5>\r\n                    </header>\r\n                    <div className=\"card-body clearfix\">\r\n                        <div className=\"row mb-0\">\r\n                            <span className=\"col-sm-2 text-secondary\">Spare Part Name</span>\r\n                            <span className=\"col-sm-6\">{this.returnValue(this.props.sparePartDetails(id).itemName)}</span>\r\n                            <span className=\"col-sm-4\">\r\n                                <button className=\"btn btn-sm btn-outline-secondary float-right\" data-toggle=\"modal\" data-target=\"#editSparePart\" \r\n                                onClick={this.openModal}>\r\n                                    Edit\r\n                                </button>\r\n                            </span>\r\n                            \r\n                        </div>\r\n\r\n                        <div className=\"row mb-2\">\r\n                            <span className=\"col-sm-2 text-secondary\">Part Number</span>\r\n                            <span className=\"col-sm-6\">{this.returnValue(this.props.sparePartDetails(id).partNumber)}</span>\r\n                        </div>\r\n\r\n\r\n                        <div className=\"row mb-2\">\r\n                            <span className=\"col-sm-2 text-secondary\">Manufacturer</span>\r\n                            <span className=\"col-sm-6\">{this.returnValue(this.props.sparePartDetails(id).manufacturer)}</span>\r\n                        </div>\r\n\r\n                        <div className=\"row mb-2\">\r\n                            <span className=\"col-sm-2 text-secondary\">Model</span>\r\n                            <span className=\"col-sm-6\">{this.returnValue(this.props.sparePartDetails(id).model)}</span>\r\n                        </div>\r\n\r\n                        <div className=\"row mb-2\">\r\n                            <span className=\"col-sm-2 text-secondary\">Serial Number</span>\r\n                            <span className=\"col-sm-6\">{this.returnValue(this.props.sparePartDetails(id).serialNumber)}</span>\r\n                        </div>\r\n\r\n                        <div className=\"row mb-2\">\r\n                            <span className=\"col-sm-2 text-secondary\">Category</span>\r\n                            <span className=\"col-sm-6\">{this.returnValue(this.props.sparePartDetails(id).category)}</span>\r\n                        </div>\r\n\r\n                        <div className=\"row mb-2\">\r\n                            <span className=\"col-sm-2 text-secondary\">On Hand</span>\r\n                            <span className=\"col-sm-6\">{this.returnValue(this.props.sparePartDetails(id).quantity)}</span>\r\n                        </div>\r\n\r\n                        <div className=\"row mb-2\">\r\n                            <span className=\"col-sm-2 text-secondary\">Reorder Level</span>\r\n                            <span className=\"col-sm-6\">{this.returnValue(this.props.sparePartDetails(id).reorderlevel)}</span>\r\n                        </div>\r\n\r\n                        <div className=\"row mb-2\">\r\n                            <span className=\"col-sm-2 text-secondary\">Average Unit Cost</span>\r\n                            <span className=\"col-sm-6\"> {this.returnValue(this.props.sparePartDetails(id).averageUnitCost)}</span>\r\n                        </div>\r\n\r\n                        <div className=\"row mb-2\">\r\n                            <span className=\"col-sm-2 text-secondary\">Created On</span>\r\n                            <span className=\"col-sm-6\">{this.props.sparePartDetails(id).createdAt.toString().substr(0,10)}</span>\r\n                        </div>\r\n\r\n                        <div className=\"row mb-2\">\r\n                            <span className=\"col-sm-2 text-secondary\">Description</span>\r\n                            <span className=\"col-sm-6\">{this.returnValue(this.props.sparePartDetails(id).description)}</span>\r\n                        </div>\r\n                    </div>\r\n\r\n\r\n\r\n                    <div className=\"card-footer\">\r\n                    <header className=\"clearfix\">\r\n                        <h6 className=\"text-secondary d-inline-block\">Statistics For {month[new Date().getMonth()]} {new Date().getFullYear()} </h6>\r\n                        <button className=\"btn btn-link float-right py-0 text-secondary\">\r\n                            <Link to={\"/itemHistory/\" + this.props.sparePartDetails(id).itemName}>View History </Link> \r\n                        </button>\r\n                    </header>\r\n\r\n                    <div className=\"dropdown-divider\"></div>\r\n                    <table className=\"table table-borderless\">\r\n                        <tbody>\r\n                            <tr>\r\n                            <td className=\"text-center lead text-info\">{this.numberPurchased()}</td>\r\n                            <td className=\"text-center lead text-info\">{this.numberUsed()}</td>\r\n                            <td className=\"text-center lead text-info\">{this.props.sparePartDetails(id).quantity}</td>\r\n                            <td className=\"text-center lead text-info\"> {Math.ceil(this.numberPurchased() * this.props.sparePartDetails(id).averageUnitCost / 100) * 100}</td>\r\n                            <td className=\"text-center lead text-info\"> {Math.ceil(this.numberUsed() * this.props.sparePartDetails(id).averageUnitCost / 100) * 100}</td>\r\n                            <td className=\"text-center lead text-info\"> {Math.ceil(this.props.sparePartDetails(id).quantity * this.props.sparePartDetails(id).averageUnitCost / 100) * 100}</td>\r\n                            </tr>\r\n                            <tr>\r\n                            <th className=\"text-center py-0 border-right\" scope=\"col\">Number Purchased</th>\r\n                            <th className=\"text-center py-0 border-right\" scope=\"col\">Number Used</th>\r\n                            <th className=\"text-center py-0 border-right\" scope=\"col\">Number On Hand</th>\r\n                            <th className=\"text-center py-0 border-right\" scope=\"col\">Value Purchases</th>\r\n                            <th className=\"text-center py-0 border-right\" scope=\"col\">Value Used</th>\r\n                            <th className=\"text-center py-0 \" scope=\"col\">Value On Hand</th>\r\n                            </tr>\r\n                        </tbody>\r\n                    </table>\r\n                </div>\r\n                    \r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n                    <div className=\"modal\" id=\"editSparePart\" tabIndex=\"-1\" role=\"dialog\" aria-labelledby=\"exampleModalLabel\" data-backdrop=\"static\" data-keyboard=\"false\">\r\n                        {this.modal()}\r\n                    </div> \r\n                </section>\r\n            </div>\r\n        )\r\n    }\r\n}","import React from 'react';\r\nimport axios from 'axios';\r\n//import correct from '../../images/correct.svg';\r\n\r\nexport default class NewVehicle extends React.Component{\r\n\r\n    constructor(props){\r\n        super(props);\r\n        this.state = {\r\n            plateNumber: '',\r\n            description: '',\r\n        }\r\n    }\r\n\r\n\r\n\r\n    handleChange = (event)=>{\r\n        this.setState({ [event.target.id]: event.target.value });\r\n        document.getElementById(event.target.id).classList.remove('border-danger')\r\n    }\r\n\r\n    handleSubmit = (event)=>{\r\n        event.preventDefault()\r\n        if (this.requiredFieldsAreFilled()){\r\n            axios.post('http://localhost:5000/vehicles/add', this.state)\r\n                .then( res => {\r\n                    if(res.status === 200){\r\n                        this.props.loadAllVehicles()\r\n                        this.props.closeNewVehicleModal()\r\n                    }\r\n                    \r\n                })\r\n        }else{\r\n            this.unfilledRequiredInputs().map((inputId)=>{\r\n                document.getElementById(inputId).classList.add('border-danger')\r\n            })\r\n            //this.props.setWarningMessage('Fill out the highlighted fields')\r\n        }\r\n    }\r\n\r\n    requiredFieldsAreFilled = ()=>{\r\n        let result = true;\r\n        if(document.getElementById('plateNumber').value === ''){\r\n            result = false\r\n        }\r\n        return result;\r\n    }\r\n    unfilledRequiredInputs = ()=>{\r\n        let unfilledRequiredInputs = [];\r\n        if(document.getElementById('plateNumber').value === ''){\r\n            unfilledRequiredInputs.push('plateNumber')\r\n        }\r\n        return unfilledRequiredInputs\r\n    }\r\n    \r\n    render(){\r\n\r\n        return(\r\n            <div className=\"modal-dialog modal-dialog-centered modal-dialog-scrollable\">\r\n                <div className=\"modal-content\">\r\n                    <div className=\"modal-header\">\r\n                        <h5 className=\"modal-title text-secondary\" id=\"exampleModalLabel\">Add New Vehicle</h5>\r\n                        <button type=\"button\" className=\"close\" data-dismiss=\"modal\" aria-label=\"Close\" id=\"closeNewVehicleModal\" onClick={this.props.closeNewVehicleModal}>\r\n                            <span aria-hidden=\"true\">&times;</span>\r\n                        </button>\r\n                    </div>\r\n                    <div className=\"modal-body\">\r\n                        <form className=\"bg-white clearfix\">\r\n                            <div className=\"form-group row\">\r\n                                <label htmlFor=\"plateNumber\" className=\"col-sm-4 col-form-label col-form-label-sm\">\r\n                                    Plate Number <span className=\"text-warning h5\"> *</span>\r\n                                </label>\r\n                                <div className=\"col-sm-8\">\r\n                                    <input type=\"text\" required className=\"form-control form-control-sm\" id=\"plateNumber\" onChange={this.handleChange} />\r\n                                </div>\r\n                            </div>\r\n\r\n\r\n                            <div className=\"form-group row\">\r\n                                <label htmlFor=\"colFormLabelSm\" className=\"col-sm-4 col-form-label col-form-label-sm\">Description</label>\r\n                                <div className=\"col-sm-8\">\r\n                                    <textarea rows=\"3\" className=\"form-control w-100 rounded\" id=\"description\" onChange={this.handleChange}>\r\n                                    </textarea>\r\n                                </div>\r\n                            </div>\r\n                            <input type=\"submit\" className=\"btn btn-sm btn-success mr-2 float-right\" data-dismiss=\"modal\" value=\"Save\" onClick={this.handleSubmit} />\r\n                        </form>\r\n                    </div>\r\n\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n}","import React from 'react';\r\nimport axios from 'axios'\r\n\r\n\r\nexport default class EditVehicle extends React.Component{\r\n\r\n    constructor(props){\r\n        super(props);\r\n        this.state = {\r\n            id: this.props.id,\r\n            plateNumber: this.props.plateNumber,\r\n            description: this.props.description\r\n        };\r\n    }\r\n\r\n    handleChange = (event)=>{\r\n        this.setState({ [event.target.id]: event.target.value });\r\n    }\r\n\r\n    handleSubmit = (event)=>{\r\n        event.preventDefault()\r\n        console.log(this.props.id)\r\n        axios.post('http://localhost:5000/vehicles/update/' +this.props.id, this.state)\r\n            .then(res =>{\r\n                if(res.status === 200){\r\n                    this.props.loadAllVehicles()\r\n                    this.props.closeEditVehicleModal()\r\n                }\r\n                \r\n            })\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div className=\"modal-dialog modal-dialog-centered modal-dialog-scrollable\">\r\n                <div className=\"modal-content\">\r\n                    <div className=\"modal-header\">\r\n                        <h5 className=\"modal-title text-secondary\" id=\"exampleModalLabel\">Edit Vehicle</h5>\r\n                        <button type=\"button\" id=\"closeEditVehicleModal\" className=\"close\" id=\"closeEditVehicleModal\" data-dismiss=\"modal\" aria-label=\"Close\"\r\n                            onClick={this.props.closeEditVehicleModal}>\r\n                            <span aria-hidden=\"true\">&times;</span>\r\n                        </button>\r\n                    </div>\r\n                    <div className=\"modal-body\">\r\n                        <form className=\"bg-white p-0\">\r\n                            <div className=\"form-group row\">\r\n                                <label htmlFor=\"number\" className=\"col-md-3 pr-0 col-form-label col-form-label-sm\">\r\n                                    Plate Number <span className=\"text-warning h5\"> *</span>\r\n                                </label>\r\n                                <div className=\"col-md-9\">\r\n                                    <input type=\"text\" className=\"form-control form-control-sm\" id=\"plateNumber\" onChange={this.handleChange} defaultValue={this.props.plateNumber}/>\r\n                                </div>\r\n                            </div>\r\n                            <div className=\"form-group row\">\r\n                                <label htmlFor=\"description\" className=\"col-md-3 pr-0 col-form-label col-form-label-sm\">\r\n                                    Description\r\n                                </label>\r\n                                <div className=\"col-md-9\">\r\n                                    <textarea className=\"form-control\" id=\"description\" onChange={this.handleChange} defaultValue={this.props.description} >\r\n                                    </textarea>\r\n                                </div>\r\n                            </div>\r\n                            <input type=\"submit\" className=\"btn btn-sm btn-success float-right\" data-dismiss=\"modal\" onClick={this.handleSubmit} value=\"Submit\"/>\r\n                        </form>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n} ","import React from 'react';\r\n\r\nexport default class VehicleInfo extends React.Component{\r\n\r\n\r\n    editVehicle = ()=>{\r\n        if(this.props.userDetails.editVehicle){\r\n            return (\r\n                <button className=\"btn btn-sm btn-outline-secondary p-1\" onClick={()=>{\r\n                    this.props.openEditVehicleModal()\r\n                    this.props.setCurrentlyEditedVehicle(\r\n                        {\r\n                            id: this.props.id,\r\n                            plateNumber: this.props.plateNumber,\r\n                            description: this.props.description\r\n                        }\r\n                    )\r\n                }}\r\n                data-toggle=\"modal\" data-target=\"#EditVehicleModal\">Edit</button>\r\n            )\r\n        }\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <>\r\n            <section className=\"card p-3 my-2 clearfix\">\r\n                <div className=\"row mb-0\">\r\n                    <div className=\"col-10 mb-0\">\r\n                        <div className=\"row\">\r\n                            <span className=\"col-sm-3 text-secondary\">Plate Number</span>\r\n                            <span className=\"col-sm text-dark\">{this.props.plateNumber}</span>\r\n                        </div>\r\n                    </div>\r\n                    <div className=\"col-2 px-0 px-sm-3 mb-0 text-center text-sm-right\">\r\n                        {this.editVehicle()}\r\n                    </div>\r\n                    <div className=\"col-12 col-sm-10 mt-2 mt-sm-0 mb-0\">\r\n                        <div className=\"row\">\r\n                            <span className=\"col-sm-3 text-secondary\">Description</span>\r\n                            <span className=\"col-sm\">{this.props.description}</span>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </section>\r\n            \r\n            </>\r\n        )\r\n    }\r\n}","import React, { Fragment } from 'react';\r\nimport NewVehicle from './newVehicle';\r\nimport EditVehicle from './editVehicle';\r\nimport VehicleInfo from './vehicleInfo';\r\n\r\n\r\nexport default class AllVehicles extends React.Component{\r\n    constructor(props){\r\n        super(props)\r\n        this.state = {\r\n            showNewVehicleModal: false,\r\n            showEditVehicleModal: false,\r\n            currentlyEditedVehicle: {\r\n                id: \"\",\r\n                plateNumber: \"\",\r\n                description: \"\"\r\n            }\r\n        }\r\n    }\r\n\r\n    setCurrentlyEditedVehicle = (vehicleData)=>{\r\n        this.setState({currentlyEditedVehicle: vehicleData})\r\n    }\r\n\r\n    renderAllVehicles = ()=>{\r\n        return(\r\n            <>\r\n                {this.props.allVehicles.map((vehicle) => {\r\n                return(\r\n                    <Fragment key={vehicle._id}>\r\n                        <VehicleInfo\r\n                        id={vehicle._id}\r\n                        userDetails={this.props.userDetails}\r\n                        plateNumber={vehicle.plateNumber}\r\n                        description={vehicle.description}\r\n                        setCurrentlyEditedVehicle={this.setCurrentlyEditedVehicle}\r\n                        openEditVehicleModal={this.openEditVehicleModal}\r\n                        />\r\n                    </Fragment>\r\n                )\r\n                })}\r\n            </>\r\n        )\r\n    }\r\n\r\n    newVehicleModal = ()=>{\r\n        if(this.state.showNewVehicleModal){\r\n            return(\r\n                <NewVehicle\r\n                closeNewVehicleModal={this.closeNewVehicleModal}\r\n                loadAllVehicles={this.props.loadAllVehicles}/>\r\n            )\r\n        }\r\n    }\r\n\r\n    newVehicleBtn = ()=>{\r\n        if(this.props.userDetails.addNewVehicle){\r\n            return (\r\n                <button className=\"btn btn-sm btn-outline-success float-right mr-2\"  data-toggle=\"modal\" data-target=\"#NewVehicleModal\"\r\n                    onClick={this.openNewVehicleModal}>\r\n                    Add New vehicle\r\n                </button>\r\n            )\r\n        }\r\n    }\r\n    editVehicleModal = ()=>{\r\n        if(this.state.showEditVehicleModal){\r\n            return(\r\n                <EditVehicle\r\n                id={this.state.currentlyEditedVehicle.id}\r\n                plateNumber={this.state.currentlyEditedVehicle.plateNumber}\r\n                description={this.state.currentlyEditedVehicle.description}\r\n                closeEditVehicleModal={this.closeEditVehicleModal}\r\n                loadAllVehicles={this.props.loadAllVehicles}/>\r\n            )\r\n        }\r\n    }\r\n    openNewVehicleModal = ()=>{\r\n        this.setState({showNewVehicleModal: true})\r\n        this.props.setActiveModal('closeNewVehicleModal')\r\n    }\r\n    closeNewVehicleModal = ()=>{\r\n        this.setState({showNewVehicleModal: false})\r\n        this.props.resetActiveModal()\r\n    }\r\n\r\n    openEditVehicleModal = ()=>{\r\n        this.setState({showEditVehicleModal: true})\r\n        this.props.setActiveModal('closeEditVehicleModal')\r\n    }\r\n    closeEditVehicleModal = ()=>{\r\n        this.setState({showEditVehicleModal: false})\r\n        this.props.resetActiveModal()\r\n    }\r\n\r\n    render(){\r\n        if(this.props.userDetails.viewAllVehicles){\r\n            return(\r\n                <div className=\"col px-4\">\r\n                    <section className=\"card border-0\">\r\n                    <header className=\"clearfix card-header bg-transparent py-0\">\r\n                        <h4 className=\"float-left text-secondary pl-1\">All Vehicles</h4>\r\n                        {this.newVehicleBtn()}\r\n                    </header> \r\n                    <div className=\"card-body p-1 p-lg-3 clearfix\">\r\n                        {this.renderAllVehicles()}\r\n                    </div>\r\n    \r\n    \r\n                    <div className=\"modal\" id=\"NewVehicleModal\" tabIndex=\"-1\" role=\"dialog\" aria-labelledby=\"exampleModalLabel\"  data-backdrop=\"static\" data-keyboard=\"false\">\r\n                        {this.newVehicleModal()}\r\n                    </div>\r\n    \r\n                    <div className=\"modal\" id=\"EditVehicleModal\" tabIndex=\"-1\" role=\"dialog\" aria-labelledby=\"exampleModalLabel\"  data-backdrop=\"static\" data-keyboard=\"false\">\r\n                        {this.editVehicleModal()}\r\n                    </div>\r\n    \r\n                    </section>\r\n                </div>\r\n            )\r\n        }else{\r\n            return (\r\n                <div className=\"col px-4\">\r\n                    <h5 className=\"text-danger\"> You need permission to view this page</h5>\r\n                </div>\r\n            )\r\n        }\r\n        \r\n    }\r\n}\r\n\r\n","import React from 'react';\r\nimport axios from 'axios';\r\nimport { API_URL } from '../../config'\r\n\r\n\r\nexport default class PurchaseRequest extends React.Component{\r\n\r\n    constructor(props){\r\n        super(props);\r\n        this.state = {\r\n            edit: false,\r\n            itemName: this.props.itemName,\r\n            quantity: this.props.quantity,\r\n            cost: this.props.cost,\r\n            supplier: this.props.supplier,\r\n            date: this.props.date,\r\n            invoiceNumber: this.props.invoiceNumber,\r\n            authorized: true\r\n        };\r\n    }\r\n    handleChange = (event)=>{\r\n        this.setState({ [event.target.id]: event.target.value });\r\n        document.getElementById(event.target.id).classList.remove('border-danger')\r\n    }\r\n\r\n    calcAverageUnitCost = (prevData, newData)=>{\r\n        let lastCost, lastQty, newCost, newQty;\r\n        lastCost = parseInt(prevData.averageUnitCost) ;\r\n        lastQty = parseInt(prevData.quantity) ;\r\n        newCost = parseInt(newData.cost) ;\r\n        newQty = parseInt(newData.quantity) ;\r\n\r\n        console.log(lastCost);\r\n        console.log(newCost);\r\n\r\n        let averageUnitCost = ((lastCost * lastQty)+(newCost * newQty)) / (lastQty + newQty);\r\n        return Math.ceil(averageUnitCost/100)*100;\r\n    }\r\n\r\n\r\n\r\n    handleSubmit = (event)=>{\r\n        event.preventDefault();\r\n        let sparePartDetails = this.props.sparePartDetailsByItemname(this.state.itemName)\r\n        let purchaseHistory = {\r\n            itemName: this.state.itemName,\r\n            quantity: this.state.quantity,\r\n            cost: this.state.cost,\r\n            supplier: this.state.supplier,\r\n            date: this.state.date,\r\n            invoiceNumber: this.state.invoiceNumber,\r\n            authorized: true\r\n        };\r\n        \r\n        let averageUnitCost = this.calcAverageUnitCost(sparePartDetails, this.state)\r\n        console.log(this.state)\r\n        let currentValue = {...sparePartDetails, quantity: parseInt(sparePartDetails.quantity) + parseInt(this.state.quantity), averageUnitCost: averageUnitCost}\r\n        \r\n        if (this.requiredFieldsAreFilled()){\r\n            axios.get(`${API_URL}/api/purchasehistory/update/${this.props.id}`, purchaseHistory)\r\n            //axios.post('http://localhost:5000/purchaseHistory/update/' +this.props.id, purchaseHistory) this will change to an update\r\n            .then(res => {\r\n                console.log(res.data)\r\n                this.props.loadUnAuthorizedPurchases()\r\n            })\r\n            axios.get(`${API_URL}/api/sparepart/update/${sparePartDetails._id}`, currentValue)\r\n            //axios.post('http://localhost:5000/spareParts/update/' +sparePartDetails._id, currentValue)\r\n            .then(res => {\r\n                console.log(res.data)\r\n                if(res.status === 200){\r\n                    this.props.loadAllSpareParts()\r\n                }\r\n                \r\n            }) \r\n        }else{\r\n            alert('Fill the required inputs')\r\n            this.unfilledRequiredInputs().map((inputId)=>{\r\n                document.getElementById(inputId).classList.add('border-danger')\r\n            })\r\n        }\r\n    }\r\n\r\n    discardRequest = ()=>{\r\n        axios.delete(`${API_URL}/api/purchasehistory/delete/${this.props.id}`)\r\n        //axios.delete('http://localhost:5000/purchaseHistory/' + this.props.id)\r\n            .then(res =>{\r\n                if(res.status === 200){\r\n                    console.log(res.data)\r\n                    this.props.loadUnAuthorizedPurchases()\r\n                }\r\n            })\r\n    }\r\n\r\n    requiredFieldsAreFilled = ()=>{\r\n        let result = true;\r\n        if(this.state.itemName === ''){\r\n            result = false\r\n        }else if(this.state.quantity === ''){\r\n            result = false\r\n        }else if(this.state.cost === ''){\r\n            result = false\r\n        }else if(this.state.date === ''){\r\n            result = false\r\n        }\r\n        return result;\r\n    }\r\n    unfilledRequiredInputs = ()=>{\r\n        let unfilledRequiredInputs = [];\r\n        if(this.state.itemName === ''){\r\n            unfilledRequiredInputs.push('itemName')\r\n        }if(this.state.quantity === '' ){\r\n            unfilledRequiredInputs.push('quantity')\r\n        }if(this.state.cost === ''){\r\n            unfilledRequiredInputs.push('cost')\r\n        }if(this.state.date === ''){\r\n            unfilledRequiredInputs.push('date')\r\n        }\r\n        return unfilledRequiredInputs\r\n    }\r\n\r\n    itemNamesOptions(){\r\n        let allItemNames = this.props.allItemNames;\r\n        return(\r\n            <>\r\n                <option value=\"\">Select a Spare Part</option>\r\n                {allItemNames.map((category)=>{\r\n                    return(\r\n                        <option key={category} value={category}> {category}</option>\r\n                    )\r\n                })\r\n                }\r\n            </>\r\n        )\r\n    }\r\n\r\n    itemName = ()=>{\r\n        return this.state.edit ? \r\n        <select className=\"form-control form-control-sm bg-white\" required readOnly style={this.border()}  id=\"itemName\" onChange={this.handleChange}\r\n            value={this.state.itemName}>\r\n            {this.itemNamesOptions()}\r\n        </select>\r\n         :\r\n         <input type=\"text\" className=\"form-control form-control-sm bg-white\" style={this.border()} required readOnly={!this.state.edit} id=\"itemName\" onChange={this.handleChange} value={this.state.itemName}/>\r\n    }\r\n\r\n    editFields = ()=>{\r\n        this.setState({edit: !this.state.edit})\r\n    }\r\n    border = ()=>{\r\n       return this.state.edit ? {border: \"1px solid black\"} : {border: \"none\"}\r\n    }\r\n    approvePurchase = ()=>{\r\n        if(this.props.userDetails.authorizePurchase){\r\n            return <button className=\"btn btn-success btn-sm mb-2\" onClick={this.handleSubmit}>Approve</button>\r\n        }\r\n    }\r\n    editPurchase = ()=>{\r\n        if(this.props.userDetails.recordPurchase){\r\n            return <button className=\"btn btn-outline-secondary btn-sm mb-2\" onClick={this.editFields}>Edit</button>\r\n        }\r\n    }\r\n    \r\n    render(){\r\n\r\n        return(\r\n            <>\r\n            <div className=\"row border rounded mb-3\">\r\n                <form className=\"col-md-10 bg-white p-3\">\r\n                    <div className=\"row\">\r\n                        <label htmlFor=\"itemName\" className=\"col-md-3 col-form-label col-form-label-sm\">\r\n                            Item Name <span className=\"text-warning h5\"> *</span>\r\n                        </label>\r\n                        <div className=\"col-md-5\">\r\n                            {this.itemName()}\r\n                        </div>\r\n                    </div>\r\n\r\n                    <div className=\"row\">\r\n                        <label htmlFor=\"quantity\" className=\"col-md-3 col-form-label col-form-label-sm\">\r\n                            Quantity <span className=\"text-warning h5\"> *</span>\r\n                        </label>\r\n                        <div className=\"col-md-5\">\r\n                            <input type=\"number\" className=\"form-control form-control-sm bg-white\" style={this.border()} required readOnly={!this.state.edit} id=\"quantity\" onChange={this.handleChange} \r\n                            value={this.state.quantity}/>\r\n                        </div>\r\n                    </div>\r\n\r\n                    <div className=\"row\">\r\n                        <label htmlFor=\"cost\" className=\"col-md-3 col-form-label col-form-label-sm\">\r\n                            Cost (1 unit) <span className=\"text-warning h5\"> *</span>\r\n                        </label>\r\n                        <div className=\"col-md-5\">\r\n                            <input type=\"number\" className=\"form-control form-control-sm bg-white\" style={this.border()} required readOnly={!this.state.edit} id=\"cost\" onChange={this.handleChange} \r\n                            value={this.state.cost}/>\r\n                        </div>\r\n                    </div>\r\n                    <div className=\"row mb-1\">\r\n                        <label htmlFor=\"supplier\" className=\"col-md-3 col-form-label col-form-label-sm\">\r\n                            Supplier\r\n                        </label>\r\n                        <div className=\"col-md-5\">\r\n                            <input type=\"text\" className=\"form-control form-control-sm bg-white\" style={this.border()} readOnly={!this.state.edit} id=\"supplier\" onChange={this.handleChange} \r\n                            value={this.state.supplier}/>\r\n                        </div>\r\n                    </div>\r\n                    <div className=\"row\">\r\n                        <label htmlFor=\"datePurchased\" className=\"col-md-3 col-form-label col-form-label-sm\">\r\n                            Date <span className=\"text-warning h5\"> *</span>\r\n                        </label>\r\n                        <div className=\"col-md-5\">\r\n                            <input type=\"text\" className=\"form-control form-control-sm bg-white border-0\" id=\"date\" required readOnly onChange={this.handleChange} \r\n                            value={this.state.date.substring(0, 10)}/>\r\n                        </div>\r\n                    </div>\r\n                    <div className=\"row\">\r\n                        <label htmlFor=\"invoiceNumber\" className=\"col-md-3 col-form-label col-form-label-sm\">\r\n                            Invoice Number\r\n                        </label>\r\n                        <div className=\"col-md-5\">\r\n                            <input type=\"text\" className=\"form-control form-control-sm bg-white\" style={this.border()} readOnly={!this.state.edit} id=\"invoiceNumber\" onChange={this.handleChange} \r\n                            value={this.state.invoiceNumber}/>\r\n                        </div>\r\n                    </div>\r\n                </form>\r\n                <div className=\"col-md-2 text-right py-3\">\r\n                    {this.editPurchase()} <br/>\r\n                    {this.approvePurchase()} <br/>\r\n                    <button className=\"btn btn-danger btn-sm\" onClick={this.discardRequest}>Discard</button><br/>\r\n                </div>\r\n            </div>\r\n\r\n            \r\n            </>\r\n        )\r\n    }\r\n}","import React from 'react';\r\nimport axios from 'axios';\r\nimport { API_URL } from '../../config';\r\n\r\n\r\nexport default class UsageRequest extends React.Component{\r\n\r\n    constructor(props){\r\n        super(props);\r\n        this.state = {\r\n            edit: false,\r\n            itemName: this.props.itemName,\r\n            quantity: this.props.quantity,\r\n            vehicleFor: this.props.vehicleFor,\r\n            authorizedBy: this.props.authorizedBy,\r\n            date: this.props.date,\r\n            purpose: this.props.purpose,\r\n            authorized: true\r\n        };\r\n    }\r\n    handleChange = (event)=>{\r\n        this.setState({ [event.target.id]: event.target.value });\r\n        //document.getElementById(event.target.id).classList.remove('border-danger')\r\n    }\r\n\r\n\r\n\r\n     handleSubmit = (event)=>{\r\n        event.preventDefault();\r\n        if (this.requiredFieldsAreFilled()){\r\n            let itemDetails = this.props.sparePartDetailsByItemname(this.state.itemName);\r\n            let newItemDetails = { ...itemDetails, quantity: parseInt(itemDetails.quantity) - (parseInt(this.state.quantity))}\r\n            let usageObj = {\r\n                itemName: this.state.itemName,\r\n                quantity: this.state.quantity,\r\n                vehicleFor: this.state.vehicleFor,\r\n                authorizedBy: this.state.authorizedBy,\r\n                date: this.state.date,\r\n                purpose: this.state.purpose,\r\n                authorized: true\r\n            }\r\n            axios.post(`${API_URL}/api/spareparts/update/${newItemDetails._id}`, newItemDetails)\r\n            //axios.post('http://localhost:5000/spareParts/update/' +newItemDetails._id, newItemDetails)\r\n                .then( res =>{\r\n                    console.log(res.data);\r\n                    if(res.status === 200){\r\n                        this.props.loadAllSpareParts()\r\n                    }\r\n                })\r\n            axios.post(`${API_URL}/api/usagehistory/update/${this.props.id}`, usageObj)\r\n            //axios.post('http://localhost:5000/usageHistory/update/' +this.props.id , usageObj)\r\n                .then(res => {\r\n                    console.log(res.data)\r\n                    if(res.status === 200){\r\n                        this.props.loadUnAuthorizedUsage()\r\n                    }\r\n                })\r\n        }else{\r\n            this.unfilledRequiredInputs().map((inputId)=>{\r\n                document.getElementById(inputId).classList.add('border-danger')\r\n            })\r\n        }\r\n    }\r\n\r\n    itemNamesOptions(){\r\n        let allItemNames = this.props.allItemNames;\r\n        return(\r\n            <>\r\n                <option value=\"\" key=\"placeholder\">Select a Spare Part</option>\r\n                {allItemNames.map((category)=>{\r\n                    return(\r\n                        <option key={category} value={category}> {category}</option>\r\n                    )\r\n                })\r\n                }\r\n            </>\r\n        )\r\n    }\r\n\r\n    vehiclesOptions() {\r\n        let allVehicles = this.props.allVehicles;\r\n        return (\r\n            <>\r\n                <option value=\"\" key=\"placeholder\">Select a Vehicle</option>\r\n                {allVehicles.map((vehicle) => {\r\n                    return (\r\n                        <option key={vehicle} value={vehicle}> {vehicle}</option>\r\n                    )\r\n                })\r\n                }\r\n            </>\r\n        )\r\n    }\r\n\r\n    discardRequest = ()=>{\r\n        axios.delete(`${API_URL}/api/usagehistory/delete/${this.props.id}`)\r\n        //axios.delete('http://localhost:5000/usageHistory/' + this.props.id)\r\n            .then(res =>{\r\n                if(res.status === 200){\r\n                    console.log(res.data)\r\n                    this.props.loadUnAuthorizedUsage()\r\n                }\r\n            })\r\n    }\r\n\r\n    requiredFieldsAreFilled = ()=>{\r\n        let result = false;\r\n        if(this.unfilledRequiredInputs().length === 0){\r\n            result = true\r\n        }\r\n        return result;\r\n    }\r\n    unfilledRequiredInputs = ()=>{\r\n        let unfilledRequiredInputs = [];\r\n        if(this.state.itemName === ''){\r\n            unfilledRequiredInputs.push('itemName')\r\n        }if(this.state.quantity === ''){\r\n            unfilledRequiredInputs.push('quantity')\r\n        }if(this.state.vehicleFor === ''){\r\n            unfilledRequiredInputs.push('vehicleFor')\r\n        }if(this.state.date === ''){\r\n            unfilledRequiredInputs.push('date')\r\n        }\r\n        return unfilledRequiredInputs\r\n    }\r\n\r\n    itemName = ()=>{\r\n        return this.state.edit ? \r\n        <select className=\"form-control form-control-sm bg-white\" required style={this.border()}  id=\"itemName\" onChange={this.handleChange}\r\n            value={this.state.itemName}>\r\n            {this.itemNamesOptions()}\r\n        </select>\r\n         :\r\n         <input type=\"text\" className=\"form-control form-control-sm bg-white\" style={this.border()} required readOnly id=\"itemName\" onChange={this.handleChange} value={this.state.itemName}/>\r\n    }\r\n\r\n    vehicleFor = ()=>{\r\n        return this.state.edit ? \r\n        <select className=\"form-control form-control-sm bg-white\" required style={this.border()}  id=\"vehicleFor\" onChange={this.handleChange}\r\n            value={this.state.vehicleFor}>\r\n            {this.vehiclesOptions()}\r\n        </select>\r\n         :\r\n         <input type=\"text\" className=\"form-control form-control-sm bg-white\" style={this.border()} required readOnly id=\"vehicleFor\" onChange={this.handleChange} value={this.state.vehicleFor}/>\r\n    }\r\n\r\n    editFields = ()=>{\r\n        this.setState({edit: !this.state.edit})\r\n    }\r\n    border = ()=>{\r\n       return this.state.edit ? {border: \"1px solid black\"} : {border: \"none\"}\r\n    }\r\n    approveUsage = ()=>{\r\n        if(this.props.userDetails.authorizeUsage){\r\n            return <button className=\"btn btn-success btn-sm mb-2\" onClick={this.handleSubmit}>Approve</button>\r\n        }\r\n    }\r\n\r\n    render(){\r\n        return(\r\n            <>\r\n            <div className=\"row border rounded mb-3\">\r\n                <form className=\"col-md-10 bg-white p-3\">\r\n                    <div className=\"row\">\r\n                        <label htmlFor=\"itemName\" className=\"col-md-3 col-form-label col-form-label-sm\">\r\n                            Item Name <span className=\"text-warning h5\"> *</span>\r\n                        </label>\r\n                        <div className=\"col-md-5\">\r\n                        {this.itemName()}\r\n                        </div>\r\n                    </div>\r\n\r\n                    <div className=\"row\">\r\n                        <label htmlFor=\"quantity\" className=\"col-md-3 col-form-label col-form-label-sm\">\r\n                            Quantity <span className=\"text-warning h5\"> *</span>\r\n                        </label>\r\n                        <div className=\"col-md-5\">\r\n                            <input type=\"number\" className=\"form-control form-control-sm bg-white\" style={this.border()} required readOnly={!this.state.edit} id=\"quantity\" onChange={this.handleChange} \r\n                            value={this.state.quantity}/>\r\n                        </div>\r\n                    </div>\r\n\r\n                    <div className=\"row\">\r\n                        <label htmlFor=\"vehicleFor\" className=\"col-md-3 col-form-label col-form-label-sm\">\r\n                            Vehicle For<span className=\"text-warning h5\"> *</span>\r\n                        </label>\r\n                        <div className=\"col-md-5\">\r\n                            {this.vehicleFor()}\r\n                            {/* <input type=\"text\" className=\"form-control form-control-sm bg-white\" style={this.border()} required readOnly={!this.state.edit} id=\"vehicleFor\" onChange={this.handleChange} \r\n                            value={this.state.vehicleFor}/> */}\r\n                        </div>\r\n                    </div>\r\n                    <div className=\"row mb-1\">\r\n                        <label htmlFor=\"authorizedBy\" className=\"col-md-3 col-form-label col-form-label-sm\">\r\n                            Authorized By\r\n                        </label>\r\n                        <div className=\"col-md-5\">\r\n                            <input type=\"text\" className=\"form-control form-control-sm bg-white\" style={this.border()} readOnly={!this.state.edit} id=\"authorizedBy\" onChange={this.handleChange} \r\n                            value={this.state.authorizedBy}/>\r\n                        </div>\r\n                    </div>\r\n                    <div className=\"row\">\r\n                        <label htmlFor=\"date\" className=\"col-md-3 col-form-label col-form-label-sm\">\r\n                            Date <span className=\"text-warning h5\"> *</span>\r\n                        </label>\r\n                        <div className=\"col-md-5\">\r\n                            <input type=\"text\" className=\"form-control form-control-sm bg-white border-0\" id=\"date\" required readOnly onChange={this.handleChange} \r\n                            value={this.state.date.substring(0, 10)}/>\r\n                        </div>\r\n                    </div>\r\n                    <div className=\"row\">\r\n                        <label htmlFor=\"purpose\" className=\"col-md-3 col-form-label col-form-label-sm\">\r\n                            Purpose\r\n                        </label>\r\n                        <div className=\"col-md-5\">\r\n                            <input type=\"text\" className=\"form-control form-control-sm bg-white\" style={this.border()} readOnly={!this.state.edit} id=\"purpose\" onChange={this.handleChange} \r\n                            value={this.state.purpose}/>\r\n                        </div>\r\n                    </div>\r\n                </form>\r\n                <div className=\"col-md-2 text-right py-3\">\r\n                    <button className=\"btn btn-outline-secondary btn-sm mb-2\" onClick={this.editFields}>Edit</button><br/>\r\n                    {this.approveUsage()} <br/>\r\n                    <button className=\"btn btn-danger btn-sm\" onClick={this.discardRequest}>Discard</button><br/>\r\n                </div>\r\n            </div>\r\n\r\n            \r\n            </>\r\n        )\r\n    }\r\n}","import React, { Fragment } from 'react';\r\nimport axios from 'axios';\r\nimport PurchaseRequest from './purchaseRequest'\r\nimport UsageRequest from './usageRequests'\r\n\r\n\r\nexport default class AuthorizeRequests extends React.Component{\r\n\r\n    purchaseRequests = ()=>{\r\n        return this.props.purchaseRequests.map((req) =>{\r\n            return(\r\n                <Fragment key={req._id}>\r\n                    <PurchaseRequest \r\n                    id={req._id}\r\n                    itemName={req.itemName}\r\n                    quantity={req.quantity}\r\n                    cost={req.cost}\r\n                    supplier={req.supplier}\r\n                    date={req.date}\r\n                    invoiceNumber={req.invoiceNumber}\r\n                    authorized={req.authorized}\r\n                    allItemNames={this.props.allItemNames}\r\n                    userDetails={this.props.userDetails}\r\n                    \r\n                    sparePartDetailsByItemname={this.props.sparePartDetailsByItemname}\r\n                    loadUnAuthorizedPurchases={this.props.loadUnAuthorizedPurchases}\r\n                    loadAllSpareParts={this.props.loadAllSpareParts}\r\n                    />\r\n                </Fragment>\r\n            )\r\n        })\r\n    }\r\n\r\n    usageRequests = ()=>{\r\n            return this.props.usageRequests.map((req) =>{\r\n                return(\r\n                    <Fragment key={req._id}>\r\n                        <UsageRequest \r\n                        id={req._id}\r\n                        itemName={req.itemName}\r\n                        quantity={req.quantity}\r\n                        vehicleFor={req.vehicleFor}\r\n                        authorizedBy={req.authorizedBy}\r\n                        date={req.date}\r\n                        purpose={req.purpose}\r\n                        authorized={req.authorized}\r\n                        userDetails={this.props.userDetails}\r\n\r\n                        allItemNames={this.props.allItemNames}\r\n                        allVehicles={this.props.allVehicles}\r\n                        sparePartDetailsByItemname={this.props.sparePartDetailsByItemname}\r\n                        loadUnAuthorizedUsage={this.props.loadUnAuthorizedUsage}\r\n                        loadAllSpareParts={this.props.loadAllSpareParts}\r\n                        />\r\n                    </Fragment>\r\n                )\r\n            })\r\n    }\r\n    \r\n    render(){\r\n        return(\r\n            <div className=\"col px-4\">\r\n                <section className=\"card border-0\">\r\n                    <div className=\"card-header p-0 bg-transparent border-0\">\r\n                        <h5>Purchase Records</h5>\r\n                    </div>\r\n                    <div className=\"card-body px-3\">\r\n                        {this.purchaseRequests()}\r\n                    </div>\r\n\r\n                    <div className=\"border border-secondary dropdown-divider pt-0 mt-0 mb-4\"></div>\r\n\r\n                    <div className=\"card-header p-0 bg-transparent border-0\">\r\n                        <h5>Usage Requests</h5>\r\n                    </div>\r\n                    <div className=\"card-body px-3\">\r\n                        {this.usageRequests()}\r\n                    </div>\r\n                    \r\n                </section>\r\n            </div>\r\n        )\r\n    }\r\n}","import React from 'react';\r\nimport axios from 'axios'\r\nimport { API_URL } from '../../config';\r\n\r\nexport default class GeneralHistory extends React.Component{\r\n    constructor(props){\r\n        super(props)\r\n        this.state = {\r\n            purchaseHistory: [],\r\n            usageHistory: []\r\n        }\r\n    }\r\n\r\n    componentWillMount = ()=>{\r\n        //axios.get('http://localhost:5000/purchasehistory/authorized')\r\n        axios.get(`${API_URL}/api/purchasehistory/getauthorizedpurchasehistory`)\r\n            .then(res => {\r\n            if(res.status === 200){\r\n                this.setState({purchaseHistory: res.data})\r\n                console.log(res.data)\r\n            }\r\n            })\r\n\r\n        //axios.get('http://localhost:5000/usagehistory/authorized')\r\n        axios.get(`${API_URL}/api/usagehistory/getauthorizedusagehistory`)\r\n            .then(res => {\r\n              if(res.status === 200){\r\n                this.setState({usageHistory: res.data})\r\n                console.log(res.data)\r\n              }\r\n            })\r\n    }\r\n\r\n    textColor = (qty)=>{\r\n        return qty < 0 ? \"text-danger\" : \"\"\r\n    }\r\n\r\n\r\n    renderUsageHistory = ()=>{\r\n        return(\r\n            this.state.usageHistory.map((history)=>{\r\n                return(\r\n                    <tr key={this.state.usageHistory.indexOf(history)}>\r\n                        <th className={this.textColor(history.quantity)} scope=\"row\">{history.date.substring(0,10)}</th>\r\n                        <td className={this.textColor(history.quantity)}>{history.itemName}</td>\r\n                        <td className={this.textColor(history.quantity)}>{history.quantity}</td>\r\n                        <td className={this.textColor(history.quantity)}>{history.vehicleFor}</td>\r\n                        <td className={this.textColor(history.quantity)}>{history.authorizedBy}</td>\r\n                        <td className={this.textColor(history.quantity)}>{history.purpose}</td>\r\n                  </tr>\r\n                )\r\n            })\r\n        )\r\n    }\r\n\r\n    renderPurchaseHistory = ()=>{\r\n        return(\r\n            this.state.purchaseHistory.map((history)=>{\r\n                return(\r\n                    <tr key={this.state.purchaseHistory.indexOf(history)}>\r\n                        <th className={this.textColor(history.quantity)} scope=\"row\">{history.date.substring(0,10)}</th>\r\n                        <td className={this.textColor(history.quantity)}>{history.itemName}</td>\r\n                        <td className={this.textColor(history.quantity)}>{history.quantity}</td>\r\n                        <td className={this.textColor(history.quantity)}>{history.cost}</td>\r\n                        <td className={this.textColor(history.quantity)}>{history.supplier}</td>\r\n                        <td className={this.textColor(history.quantity)}>{history.invoiceNumber}</td>\r\n                  </tr>\r\n                )\r\n            })\r\n        )\r\n    }\r\n\r\n    \r\n    render(){\r\n\r\n        return(\r\n            <section className=\"card\">\r\n                <header className=\"card-header bg-white clearfix\">\r\n                    <h5 className=\"d-inline-block text-secondary mb-0\">General History</h5>\r\n                </header>\r\n\r\n                <div className=\"card-body clearfix\">\r\n\r\n                    <ul className=\"nav nav-pills mb-3\" id=\"pills-tab\" role=\"tablist\">\r\n                        <li className=\"nav-item\" role=\"presentation\">\r\n                            <a className=\"nav-link active\"\r\n                            id=\"purchase-tab\" data-toggle=\"pill\" href=\"#purchase\" role=\"tab\" aria-controls=\"purchase\" aria-selected=\"true\">Purchase</a>\r\n                        </li>\r\n                        <li className=\"nav-item\" role=\"presentation\">\r\n                            <a className=\"nav-link\" \r\n                            id=\"usage-tab\" data-toggle=\"pill\" href=\"#usage\" role=\"tab\" aria-controls=\"usage\" aria-selected=\"false\">Usage</a>\r\n                        </li>\r\n\r\n                    </ul>\r\n                    <div className=\"tab-content\" id=\"pills-tabContent\">\r\n                        <div className=\"tab-pane fade show active\" id=\"purchase\" role=\"tabpanel\" aria-labelledby=\"purchase-tab\">\r\n                            <table className=\"table\">\r\n                                <thead>\r\n                                <tr>\r\n                                    <th scope=\"col\">Date (YYYY-MM-DD)</th>\r\n                                    <th scope=\"col\">Item Name</th>\r\n                                    <th scope=\"col\">Quantity</th>\r\n                                    <th scope=\"col\">Cost (1 unit)</th>\r\n                                    <th scope=\"col\">Supplier</th>\r\n                                    <th scope=\"col\">Invoice Number</th>\r\n                                </tr>\r\n                                </thead>\r\n                                <tbody>\r\n                                    {this.renderPurchaseHistory()}\r\n                                </tbody>\r\n                            </table> \r\n                        </div>\r\n\r\n                        <div className=\"tab-pane fade\" id=\"usage\" role=\"tabpanel\" aria-labelledby=\"usage-tab\">\r\n                            <table className=\"table\">\r\n                                <thead>\r\n                                <tr>\r\n                                    <th scope=\"col\">Date (YYYY-MM-DD)</th>\r\n                                    <th scope=\"col\">Item Name</th>\r\n                                    <th scope=\"col\">Qty. Used</th>\r\n                                    <th scope=\"col\">Vehicle For</th>\r\n                                    <th scope=\"col\">Authorized By</th>\r\n                                    <th scope=\"col\">Purpose</th>\r\n                                </tr>\r\n                                </thead>\r\n                                <tbody>\r\n                                {this.renderUsageHistory()}\r\n                                </tbody>\r\n                            </table> \r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </section>\r\n        )\r\n    }\r\n}","import React from 'react';\r\nimport axios from 'axios';\r\nimport { API_URL } from '../../config';\r\n\r\nexport default class ItemHistory extends React.Component{\r\n    constructor(props){\r\n        super(props)\r\n        this.state = {\r\n            purchaseHistory: [],\r\n            usageHistory: []\r\n        }\r\n    }\r\n\r\n    componentDidMount = ()=>{\r\n        let name = this.props.match.params.itemName\r\n        axios.get(`${API_URL}/api/purchasehistory/getitempurchasehistory/${name}`)\r\n        //axios.get('http://localhost:5000/purchaseHistory/find/' + name)\r\n            .then(res => {\r\n            console.log(res.data)\r\n            if(res.status === 200){\r\n                this.setState({purchaseHistory: res.data})\r\n            }\r\n            })\r\n        axios.get(`${API_URL}/api/usagehistory/getitemusagehistory/${name}`)\r\n        //axios.get('http://localhost:5000/usageHistory/find/' + name)\r\n            .then(res => {\r\n              if(res.status === 200){\r\n                this.setState({usageHistory: res.data})\r\n              }\r\n            })\r\n    }\r\n\r\n\r\n\r\n\r\n    renderUsageHistory = ()=>{\r\n        return(\r\n            this.state.usageHistory.map((history)=>{\r\n                return(\r\n                    <tr key={this.state.usageHistory.indexOf(history)}>\r\n                        <th scope=\"row\">{history.date.substring(0,10)}</th>\r\n                        <td>{history.itemName}</td>\r\n                        <td>{history.quantity}</td>\r\n                        <td>{history.vehicleFor}</td>\r\n                        <td>{history.authorizedBy}</td>\r\n                        <td>{history.purpose}</td>\r\n                  </tr>\r\n                )\r\n            })\r\n        )\r\n    }\r\n\r\n    renderPurchaseHistory = ()=>{\r\n        return(\r\n            this.state.purchaseHistory.map((history)=>{\r\n                return(\r\n                    <tr key={this.state.purchaseHistory.indexOf(history)}>\r\n                        <th scope=\"row\">{history.date.substring(0,10)}</th>\r\n                        <td>{history.itemName}</td>\r\n                        <td>{history.quantity}</td>\r\n                        <td>{history.cost}</td>\r\n                        <td>{history.supplier}</td>\r\n                        <td>{history.invoiceNumber}</td>\r\n                  </tr>\r\n                )\r\n            })\r\n        )\r\n    }\r\n\r\n    \r\n    render(){\r\n\r\n        return(\r\n            <section className=\"card\">\r\n                <header className=\"card-header bg-white clearfix\">\r\n                <h5 className=\"d-inline-block text-secondary mb-0\">History of <span className=\"text-info\">{this.props.match.params.itemName}</span></h5>\r\n                </header>\r\n\r\n                <div className=\"card-body clearfix\">\r\n\r\n                    <ul className=\"nav nav-pills mb-3\" id=\"pills-tab\" role=\"tablist\">\r\n                        <li className=\"nav-item\" role=\"presentation\">\r\n                            <a className=\"nav-link active\"\r\n                            id=\"purchase-tab\" data-toggle=\"pill\" href=\"#purchase\" role=\"tab\" aria-controls=\"purchase\" aria-selected=\"true\">Purchase</a>\r\n                        </li>\r\n                        <li className=\"nav-item\" role=\"presentation\">\r\n                            <a className=\"nav-link\" \r\n                            id=\"usage-tab\" data-toggle=\"pill\" href=\"#usage\" role=\"tab\" aria-controls=\"usage\" aria-selected=\"false\">Usage</a>\r\n                        </li>\r\n\r\n                    </ul>\r\n                    <div className=\"tab-content\" id=\"pills-tabContent\">\r\n                        <div className=\"tab-pane fade show active\" id=\"purchase\" role=\"tabpanel\" aria-labelledby=\"purchase-tab\">\r\n                            <table className=\"table\">\r\n                                <thead>\r\n                                <tr>\r\n                                    <th scope=\"col\">Date (YYYY-MM-DD)</th>\r\n                                    <th scope=\"col\">Item Name</th>\r\n                                    <th scope=\"col\">Quantity</th>\r\n                                    <th scope=\"col\">Cost (1 unit)</th>\r\n                                    <th scope=\"col\">Supplier</th>\r\n                                    <th scope=\"col\">Invoice Number</th>\r\n                                </tr>\r\n                                </thead>\r\n                                <tbody>\r\n                                    {this.renderPurchaseHistory()}\r\n                                </tbody>\r\n                            </table> \r\n                        </div>\r\n\r\n                        <div className=\"tab-pane fade\" id=\"usage\" role=\"tabpanel\" aria-labelledby=\"usage-tab\">\r\n                            <table className=\"table\">\r\n                                <thead>\r\n                                <tr>\r\n                                    <th scope=\"col\">Date (YYYY-MM-DD)</th>\r\n                                    <th scope=\"col\">Item Name</th>\r\n                                    <th scope=\"col\">Qty. Used</th>\r\n                                    <th scope=\"col\">Vehicle For</th>\r\n                                    <th scope=\"col\">Authorized By</th>\r\n                                    <th scope=\"col\">Purpose</th>\r\n                                </tr>\r\n                                </thead>\r\n                                <tbody>\r\n                                {this.renderUsageHistory()}\r\n                                </tbody>\r\n                            </table> \r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </section>\r\n        )\r\n    }\r\n}","import React from 'react';\r\nimport {BrowserRouter as Router, Route } from 'react-router-dom';\r\nimport LoginOrRegister from './loginOrRegister';\r\nimport axios from 'axios';\r\nimport Sidebar from \"./Sidebar/sidebar\";\r\nimport AllUsers from './Users/allUsers';\r\nimport TopNavbar from './topNavbar';\r\nimport UserAccess from './Users/userAccess';\r\nimport SpareParts from './SpareParts/spareParts';\r\nimport NewSparePart from './SpareParts/newSparePart';\r\nimport SparePartDetails from './SpareParts/sparePartDetails';\r\nimport AllVehicles from './Vehicles/allVehicles'; \r\nimport AuthorizeRequests from './pendingAuthorization/authorizeRequests';\r\nimport GeneralHistory from './histories/generalHistory';\r\nimport ItemHistory from './histories/itemHistory';\r\n\r\nimport { API_URL } from '../config';\r\n\r\nexport default class App extends React.Component{\r\n  constructor(props){\r\n    super(props);\r\n    this.state = {\r\n      message: {\r\n        type: '',\r\n        text: ''\r\n      },\r\n      loggedIn: false,\r\n      openModal: '',\r\n      userDetails: {},\r\n      users: [],\r\n      spareParts: [],\r\n      vehicles: [],\r\n      unAuthorizedPurchases: [],\r\n      unAuthorizedUsage: []\r\n    }\r\n  }\r\n\r\n  setActiveModal = (id)=>{\r\n    this.setState({openModal: id})\r\n  }\r\n  resetActiveModal = ()=>{\r\n    this.setState({openModal: ''})\r\n  }\r\n\r\n  \r\n  setMessage = (type, text)=>{\r\n    let message = this.state.message;\r\n    message.type = type;\r\n    message.text = text\r\n    this.setState({message: message})\r\n  }\r\n  clearMessage = ()=>{\r\n    let message = this.state.message;\r\n    message.type = '';\r\n    message.text = '';\r\n    this.setState({message: message})\r\n  }\r\n\r\n  warningMessage = ()=>{\r\n    if(this.state.message.type === 'warning'){\r\n      return(\r\n        <div className=\"d-inline-block alert alert-warning alert-dismissible fade show mx-4 sticky-top\" role=\"alert\">\r\n            {this.state.message.text}\r\n            <button type=\"button\" className=\"close h-100\" data-dismiss=\"alert\" aria-label=\"Close\" onClick={this.clearMessage}>\r\n                <span aria-hidden=\"true\" style={{position: 'relative', bottom: '3px'}}>&times;</span>\r\n            </button>\r\n        </div>\r\n      )\r\n    }\r\n  }\r\n\r\n  successMessage = ()=>{\r\n    if(this.state.message.type === 'success'){\r\n      return(\r\n        <div className=\"d-inline-block alert alert-success alert-dismissible fade show mx-4 sticky-top\" role=\"alert\">\r\n            {this.state.message.text}\r\n            <button type=\"button\" className=\"close h-100\" data-dismiss=\"alert\" aria-label=\"Close\" onClick={this.clearMessage}>\r\n                <span aria-hidden=\"true\" style={{position: 'relative', bottom: '3px'}}>&times;</span>\r\n            </button>\r\n        </div>\r\n      )\r\n    }\r\n  }\r\n\r\n  dangerMessage = ()=>{\r\n    if(this.state.message.type === 'danger'){\r\n      return(\r\n        <div className=\"d-inline-block alert alert-danger alert-dismissible fade show mx-4 sticky-top\" role=\"alert\">\r\n            {this.state.message.text}\r\n            <button type=\"button\" className=\"close h-100\" data-dismiss=\"alert\" aria-label=\"Close\" onClick={this.clearMessage}>\r\n                <span aria-hidden=\"true\" style={{position: 'relative', bottom: '3px'}}>&times;</span>\r\n            </button>\r\n        </div>\r\n      )\r\n    }\r\n  }\r\n\r\n\r\n  componentDidMount = ()=>{\r\n    if(navigator.onLine){\r\n      this.loadAllResources()\r\n    }else{\r\n      this.setMessage('warning', 'Please Check Your internet connection')\r\n    }\r\n  }\r\n\r\n  setloggedInFromLocalStorage = ()=>{\r\n    if(localStorage.getItem(\"loggedIn\") === \"true\"){\r\n      this.setLoggedIn()\r\n      console.log('weeeeeeeeee')\r\n    }else{\r\n      this.setState({loggedIn: false})\r\n    }\r\n  }\r\n  setUserDetails = (userdata)=>{\r\n    let id = localStorage.getItem(\"userId\")\r\n    if(id){\r\n      axios.get( `${API_URL}/api/user/getUser/${id}`)\r\n      .then((res) => {\r\n          if(res.data !== null){\r\n            this.setState({userDetails: res.data})\r\n          }\r\n      })\r\n    }else if(userdata !== undefined){\r\n      this.setState({userDetails: userdata})\r\n    }else{\r\n      this.setState({loggedIn: false})\r\n    }\r\n  }\r\n\r\n  checkUserId = ()=>{\r\n    if(this.state.userDetails._id !== localStorage.getItem(\"userId\")){\r\n      this.setState({loggedIn:false})\r\n    }\r\n  }\r\n  setLoggedIn = ()=>{\r\n    if(this.state.users.length === 0){\r\n      this.loadAllResources()\r\n    }\r\n    this.setState({loggedIn : true})\r\n    localStorage.setItem(\"loggedIn\", true);\r\n  }\r\n  logout = ()=>{\r\n    this.setState({loggedIn : false})\r\n    localStorage.clear();\r\n  }\r\n\r\n  loadAllResources = ()=>{\r\n    this.loadAllUsers();\r\n    this.loadAllSpareParts();\r\n    this.loadAllVehicles();\r\n    this.loadUnAuthorizedPurchases();\r\n    this.loadUnAuthorizedUsage();\r\n    \r\n  }\r\n\r\n  loadAllUsers = ()=>{\r\n    axios.get(`${API_URL}/api/user/lists`)\r\n      .then((res) => {\r\n          if(res.data !== null){\r\n              console.log(res.data)\r\n              this.setState({users: res.data});\r\n          }\r\n      })\r\n  }\r\n  loadAllSpareParts = ()=>{\r\n    axios.get(`${API_URL}/api/sparepart/list`)\r\n    //axios.get('http://localhost:5000/api/sparepart/list')\r\n      .then((res) => {\r\n          if(res.data !== null){\r\n              console.log(res.data)\r\n              this.setState({spareParts: res.data});\r\n          }\r\n      })\r\n  }\r\n  loadAllVehicles = ()=>{\r\n    axios.get(`${API_URL}/api/vehicle/list`)\r\n    //axios.get('http://localhost:5000/api/vehicle/list')\r\n      .then((res) => {\r\n          if(res.data !== null){\r\n              console.log(res.data)\r\n              this.setState({vehicles: res.data});\r\n          }\r\n      })\r\n  }\r\n  loadUnAuthorizedPurchases = ()=>{\r\n    axios.get(`${API_URL}/api/purchasehistory/getunauthorizedpurchasehistory`)\r\n    //axios.get('http://localhost:5000/api/purchasehistory/getunauthorizedpurchasehistory')\r\n    .then(res => {\r\n      if(res.status === 200){\r\n        this.setState({unAuthorizedPurchases: res.data})\r\n        console.log(res.data)\r\n      }\r\n    })\r\n  }\r\n  loadUnAuthorizedUsage = ()=>{\r\n    axios.get(`${API_URL}/api/usagehistory/getunauthorizedusagehistory`)\r\n\r\n    //axios.get('http://localhost:5000/api/usagehistory/getunauthorizedusagehistory')\r\n    .then(res => {\r\n      if(res.status === 200){\r\n        this.setState({unAuthorizedUsage: res.data})\r\n        console.log(res.data)\r\n      }\r\n    })\r\n  }\r\n  \r\n\r\n\r\n \r\n  \r\n  doesPasswordMatch = (password)=>{\r\n    if(password === this.state.userDetails.password){\r\n      return true\r\n    }else{\r\n      return false\r\n    }\r\n  }\r\n\r\n  userAccessDetails = (id)=>{\r\n    let userDetails = \"\" ;\r\n      this.state.users.map((user)=>{\r\n          if(user._id === id){\r\n            userDetails = user\r\n          }\r\n      })\r\n    return userDetails;\r\n  }\r\n\r\n  updateUserDetails = (data)=>{\r\n    let allUsers = this.state.users\r\n    allUsers.map((user)=>{\r\n      if(user._id === data._id){\r\n        user = data;\r\n      }\r\n    })\r\n    this.setState({users: allUsers});\r\n  }\r\n\r\n  updateSparePartDetails = (data)=>{\r\n    let allSpareParts = this.state.spareParts\r\n    allSpareParts.map(sparepart =>{\r\n      if(sparepart._id === data._id){\r\n          sparepart = { ...sparepart, ...data}\r\n          console.log(sparepart)\r\n      }\r\n    })\r\n    this.setState({spareParts: allSpareParts})\r\n      console.log()\r\n  }\r\n\r\n\r\n\r\n  toggleSidebar = ()=>{\r\n    document.getElementById('sidebar').classList.toggle('d-none')\r\n  }\r\n\r\n  doesSparePartExist = (sparepart)=>{\r\n    let result = false\r\n    this.state.spareParts.map((item) =>{\r\n      if(item.itemName.toLowerCase().trim() === sparepart.toLowerCase().trim()){\r\n          result = true\r\n      }\r\n    })\r\n    return result\r\n  }\r\n\r\n\r\n  sparePartDetails = (id)=>{\r\n    let sparePartDetails = \"\" ;\r\n      this.state.spareParts.map((sparepart)=>{\r\n          if(sparepart._id === id){\r\n            sparePartDetails = sparepart\r\n          }\r\n      })\r\n    return sparePartDetails;\r\n  }\r\n\r\n  sparePartDetailsByItemname = (itemname)=>{\r\n    let sparePartDetails = \"\" ;\r\n      this.state.spareParts.map((sparepart)=>{\r\n          if(sparepart.itemName === itemname){\r\n            sparePartDetails = sparepart\r\n          }\r\n      })\r\n    return sparePartDetails;\r\n  }\r\n\r\n  allCategories = ()=>{\r\n    let arrOfCategories = [];\r\n    this.state.spareParts.map((item)=>{\r\n        arrOfCategories.push(item.category);\r\n    })\r\n    let uniqueArrOfCategories = [...new Set([...arrOfCategories])];\r\n    return uniqueArrOfCategories;\r\n  }\r\n\r\n  allItemNames = ()=>{\r\n    let allItemNames = []\r\n    this.state.spareParts.map((sparepart)=>{\r\n      allItemNames.push(sparepart.itemName)\r\n    })\r\n    return allItemNames.sort()\r\n  }\r\n\r\n  allVehicles = ()=>{\r\n    let allVehicles = []\r\n    this.state.vehicles.map((vehicle)=>{\r\n      allVehicles.push(vehicle.plateNumber)\r\n    })\r\n    return allVehicles.sort()\r\n  }\r\n\r\n  render(){\r\n\r\n    if(this.state.loggedIn === false){\r\n      return(\r\n        <LoginOrRegister \r\n        doesPasswordMatch={this.doesPasswordMatch}\r\n        setUserDetails={this.setUserDetails}\r\n        setLoggedIn={this.setLoggedIn}\r\n        loadAllUsers={this.loadAllUsers}/>\r\n      )\r\n    }\r\n    return(\r\n      <Router>\r\n        <section className=\"container-fluid\">\r\n          <div className=\"row\">\r\n            <Sidebar\r\n            openModal={this.state.openModal}\r\n            userDetails={this.state.userDetails}\r\n            userName={this.state.userDetails.fullname}\r\n            position={this.state.userDetails.position} \r\n            toggleSidebar={this.toggleSidebar}\r\n            />\r\n            <main className=\"col p-0\">\r\n              <TopNavbar \r\n              userDetails={this.state.userDetails}\r\n              unAuthorizedPurchases={this.state.unAuthorizedPurchases}\r\n              unAuthorizedUsage={this.state.unAuthorizedUsage}\r\n              toggleSidebar={this.toggleSidebar}\r\n              logout={this.logout}/>\r\n              {this.warningMessage()}\r\n              {this.successMessage()}\r\n              {this.dangerMessage()}\r\n              <Route exact path=\"/\">\r\n                <SpareParts \r\n                userDetails={this.state.userDetails}\r\n                allSpareParts={this.state.spareParts}\r\n                allItemNames={this.allItemNames}\r\n                allVehicles={this.allVehicles}\r\n                sparePartDetailsByItemname={this.sparePartDetailsByItemname}\r\n                loadAllSpareParts={this.loadAllSpareParts}\r\n                updateSparePartDetails={this.updateSparePartDetails}\r\n                loadUnAuthorizedPurchases={this.loadUnAuthorizedPurchases}\r\n                loadUnAuthorizedUsage={this.loadUnAuthorizedUsage}\r\n                setActiveModal={this.setActiveModal}\r\n                resetActiveModal={this.resetActiveModal}\r\n                setMessage={this.setMessage}\r\n                clearMessage={this.clearMessage}/>\r\n              </Route>\r\n              <Route exact path=\"/newSparePart\">\r\n                <NewSparePart \r\n                userDetails={this.state.userDetails}\r\n                doesNewSparePartExist={this.doesSparePartExist}\r\n                loadAllSpareParts={this.loadAllSpareParts}\r\n                setMessage={this.setMessage}\r\n                clearMessage={this.clearMessage}/>\r\n              </Route>\r\n              <Route exact path=\"/sparepartdetails/:id\">\r\n                <SparePartDetails \r\n                userDetails={this.state.userDetails}\r\n                sparePartDetails={this.sparePartDetails}\r\n                allCategories={this.allCategories()}\r\n                loadAllSpareParts={this.loadAllSpareParts}\r\n                updateSparePartDetails={this.updateSparePartDetails}\r\n                doesSparePartExist={this.doesSparePartExist}\r\n                setActiveModal={this.setActiveModal}\r\n                resetActiveModal={this.resetActiveModal}\r\n                setMessage={this.setMessage}\r\n                clearMessage={this.clearMessage}/>\r\n              </Route>\r\n              <Route exact path=\"/users\">\r\n                <AllUsers \r\n                userDetails={this.state.userDetails}\r\n                allUsers={this.state.users}/>\r\n              </Route>\r\n              <Route exact path=\"/editUsers/:id\" > \r\n                <UserAccess \r\n                userDetails={this.state.userDetails}\r\n                userAccessDetails={this.userAccessDetails}\r\n                updateUserDetails={this.updateUserDetails}\r\n                setMessage={this.setMessage}\r\n                clearMessage={this.clearMessage}/>\r\n              </Route>\r\n              <Route exact path=\"/vehicles\">\r\n                <AllVehicles \r\n                userDetails={this.state.userDetails}\r\n                allVehicles={this.state.vehicles}\r\n                loadAllVehicles={this.loadAllVehicles}\r\n                setActiveModal={this.setActiveModal}\r\n                resetActiveModal={this.resetActiveModal}\r\n                />\r\n              </Route>\r\n              <Route exact path=\"/authorization\">\r\n                <AuthorizeRequests \r\n                userDetails={this.state.userDetails}\r\n                loadUnAuthorizedPurchases={this.loadUnAuthorizedPurchases}\r\n                purchaseRequests={this.state.unAuthorizedPurchases}\r\n                loadUnAuthorizedUsage={this.loadUnAuthorizedUsage}\r\n                usageRequests={this.state.unAuthorizedUsage}\r\n                allItemNames={this.allItemNames()}\r\n                allVehicles ={this.allVehicles()}\r\n                sparePartDetailsByItemname={this.sparePartDetailsByItemname}\r\n                loadAllSpareParts={this.loadAllSpareParts}\r\n                />\r\n              </Route>\r\n              <Route exact path=\"/history\">\r\n                <GeneralHistory \r\n                />\r\n              </Route>\r\n              <Route exact path=\"/itemHistory/:itemName\" component={ItemHistory} />\r\n            </main>\r\n            \r\n          </div>\r\n        </section>\r\n      </Router>\r\n      \r\n    )\r\n    \r\n  }\r\n}\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport 'bootstrap/dist/css/bootstrap.css';\r\nimport 'bootstrap/dist/js/bootstrap.bundle.min.js';\r\nimport 'jquery/dist/jquery.min.js'\r\nimport App from './components/App';\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <App />\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);\r\n"],"sourceRoot":""}